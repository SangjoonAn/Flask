<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RF EMS Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        body { 
            background-color: #E0E0E0; overflow: auto; 
            transition: background-color 0.2s ease, color 0.2s ease; /* body에도 트랜지션 추가 (선택 사항) */
        }
        .navbar { background: #547186; color: white; display: flex; align-items: center; justify-content: space-between; padding: 10px; }
        .navbar img { height: 40px; }
        .time-container { color: white; }
        .icon-container { display: flex; gap: 15px; color: white; }
        .icon-container i { font-size: 20px; cursor: pointer; }
        .wrapper { 
            display: flex; 
            min-height: 100vh; 
        }
        .sidebar { 
            width: 300px; 
            background: #41515D; 
            color: white; 
            padding: 15px; 
            flex-shrink: 0;
            transition: background-color 0.2s ease, color 0.2s ease; /* 핵심 변경: 사이드바에 트랜지션 추가 */
        }
        .sidebar h5 { font-weight: bold; margin-bottom: 10px; }
        .sidebar .info-box { 
            background: #B0B0B0; 
            padding: 10px; 
            border-radius: 5px; 
            margin-bottom: 5px; 
            /* grid 관련 스타일을 여기서 정의 */
            display: grid;
            grid-template-columns: 120px auto; /* 여기에 정의 */
            grid-gap: 5px;
            align-items: center;
        }
        .sidebar .status-box {        
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 160px; /* 원하는 너비로 조정 */
            margin: 0;
            padding: 0;    
        }

        .sidebar .status-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 13px;
        padding: 2px 0;     /* 상하 padding 줄이기 */
        margin: 0;          /* margin 제거 */
        }

        .sidebar .info-box p {
        margin: 2px 0;           /* 위아래 여백 줄이기 */
        padding: 0;              /* padding 제거 */
        line-height: 1.2;        /* 줄 간격 압축 */
        font-size: 14px;         /* 폰트 크기 조정 (선택) */
        }

        .status-item span {
        margin: 0;
        padding: 0;
        line-height: 1.2;
        }

        /* 상태 원 기본 스타일 */
        .status-circle {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        display: inline-block;
        }

        .status-normal { background-color: green; }
        .status-alarm { background-color: red; }
        .status-alarm-yellow { background-color: yellow; }
        .status-unknown { background-color: gray; }
        .status-linkfail { background-color: orange; }
        .status-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-left: 5px;
        }

        /* 작은 텍스트 크기 클래스 */
        .small-text {
            font-size: 0.75rem;
        }

        .small-text-2 {
            font-size: 0.7rem;
        }

        /* Beam Info 카드 텍스트 크기 절반으로 줄이기 */
        .beam-info-card span {
            font-size: 0.5rem;
        }









        /* DU/SU Navigation Section Styles */
        .du-su-section {
            margin-top: 20px;
            background-color: #3c5260;
            padding: 15px;
            border-radius: 8px;
            color: white;
        }
        .du-item, .su-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer; /* 클릭 가능하도록 커서 변경 */
            transition: background-color 0.2s ease; /* 호버 효과 추가 */
            padding: 5px;
            border-radius: 5px;
        }
        .du-item:hover, .su-item:hover {
            background-color: #496373; /* 호버 시 배경색 변경 */
        }
        /* du-item-circle 및 su-item-circle에 status-circle 공통 스타일 적용 */
        .du-item-circle, .su-item-circle {
            width: 10px; /* Specific size for nav dots */
            height: 10px; /* Specific size for nav dots */
            border-radius: 50%;
            margin-right: 8px;
            /* background-color will be set by JS via status classes or white for active */
        }
        .su-item { margin-left: 20px; } /* SU 항목 들여쓰기 */

        /* Main Content Area */
        .content-area {
            flex: 1;
            padding: 20px;
            background-color: #fff;
            overflow-y: auto; /* 내용이 많을 경우 스크롤바 생성 */
            box-shadow: -2px 0 5px rgba(0,0,0,0.05);
        }

        /* 각 화면 컨테이너 (처음에는 DU만 보이고 SU#1은 숨김) */
        #du_content_display, #su1_content_display, #su2_content_display { /* SU2 추가 */
            display: none; /* 기본적으로 모두 숨김 */
        }

        /* 특정 화면이 활성화될 때만 보이도록 - 디버깅용 테두리와 배경색 추가 */
        #du_content_display.active,
        #su1_content_display.active { 
            display: block; /* 활성화된 화면만 보이도록 */
        }

        /* DU/SU 화면 내부 스타일 (예시) */
        .dashboard-card {
            background-color: #f0f2f5;
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 0.75rem;
        }
        .dashboard-header h2 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #343a40;
            margin: 0;
        }
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        .info-item {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            font-size: 0.9em;
            color: #333;
        }
        .info-item label {
            font-weight: bold;
            color: #555;
            display: block;
            margin-bottom: 0.25rem;
        }
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }
        .status-section {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        .status-section h3 {
            font-size: 1.2rem;
            font-weight: bold;
            color: #343a40;
            margin-top: 0;
            margin-bottom: 1rem;
            border-bottom: 1px dashed #e0e0e0;
            padding-bottom: 0.5rem;
        }
        .status-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .status-indicator .status-circle { /* Changed from .status-dot */
            width: 10px; /* Ensure size consistency */
            height: 10px; /* Ensure size consistency */
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        /* Buttons in content area */
        .action-buttons button {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-weight: bold;
        }
        .action-buttons button:hover {
            background-color: #0056b3;
        }
        .action-buttons .btn-secondary {
            background-color: #6c757d;
        }
        .action-buttons .btn-secondary:hover {
            background-color: #5a6268;
        }



        .status-box span { display: block; }
        .content { flex-grow: 1; padding: 20px; overflow: auto; }
        .card { margin-bottom: 20px; }
        .tx-rx-box { 
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
            gap: 10px;
            margin-bottom: 10px; /* ← 상태 리스트와의 간격 추가 */
        }
        /* 상태 텍스트들을 감싸는 컨테이너 */
            .status-list {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }        
        /* TX와 RX 박스 공통 스타일 */
        .tx-box, .rx-box {
            padding: 3px 10px;        /* 더 작게 */
            border-radius: 5px;
            font-size: 12px;          /* 글자 크기 축소 */
            font-weight: bold;
            text-align: center;
            min-width: 35px;          /* 너무 좁아지지 않도록 최소 폭 지정 */
        }
        
        /* 송신 박스 스타일 */
        .tx-box {
        background-color: gray;
        color: white;
        }
        /* 수신 박스 스타일 */
        .rx-box {
        background-color: gray;
        color: white;
        }

        .content-card {
            background-color: #f0f0f0; /* 배경색 변경 */
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 5px;
        }
        .content-card h5 {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        .content-card p {
            margin-bottom: 5px;
        }
        .content-card .badge {
            margin-left: 5px;
        }
        .content-card .status-circle {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
        }

        /* Custom styles for DU Hidden Modal */
        .modal-body .rf-optic-section {
            background-color: #f0f2f5; /* Light gray background for the entire section */
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .modal-body .rf-optic-section h6 {
            font-weight: bold;
            font-size: 1.125rem;
            color: #343a40;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
        }

        .modal-body .rf-optic-section h6 i {
            color: #007bff;
            margin-right: 0.5rem;
        }

        .modal-body .rf-optic-section hr {
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
            border-top: 1px dotted #6c757d; /* Changed to darker dotted line */
        }

        /* Specific styles for input items within RF/Optic sections */
        .modal-body .rf-optic-section .input-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .modal-body .rf-optic-section .input-item label {
            font-weight: 600;
            font-size: 0.875rem;
            color: #495057;
            flex-grow: 1;
            text-align: left;
            margin-right: 10px;
        }

        .modal-body .rf-optic-section .input-item .input-with-unit {
            display: flex;
            align-items: center;
            flex-shrink: 0;
        }

        .modal-body .rf-optic-section .input-item input.form-control-sm {
            width: 80px;
            text-align: center;
            border-radius: 0.375rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            border: 1px solid #ced4da;
        }

        .modal-body .rf-optic-section .input-item span.unit {
            margin-left: 0.5rem;
            font-size: 0.875rem;
            color: #495057;
        }

        .modal-body .rf-optic-section .text-muted-small {
            font-size: 0.75rem;
            color: #6c757d;
            text-align: right;
            margin-top: 0.5rem;
            margin-bottom: 0.5rem;
        }

        /* Specific styles for the bottom section of DU Hidden Modal */
        .modal-body .bottom-section .form-group-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }

        .modal-body .bottom-section .form-group-item input.form-control-sm.w-40 {
            width: 160px;
        }

        .modal-body .bottom-section .btn-toggle {
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            color: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: background-color 0.2s ease;
            border: none; /* Ensure no default button border */
        }
        .modal-body .bottom-section .btn-toggle.on {
            background-color: #28a745;
        }
        .modal-body .bottom-section .btn-toggle.off {
            background-color: #dc3545;
        }

        /* Button styling */
        .btn-custom-gray {
            background-color: #6c757d;
            color: white;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: background-color 0.2s ease;
            border: none;
        }
        .btn-custom-gray:hover {
            background-color: #5a6268;
            color: white;
        }
        .btn-custom-blue {
            background-color: #007bff;
            color: white;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: background-color 0.2s ease;
            border: none;
        }
        .btn-custom-blue:hover {
            background-color: #0056b3;
            color: white;
        }
        .btn-custom-blue-lg {
            padding: 0.75rem 1.5rem;
            background-color: #007bff;
            color: white;
            border-radius: 0.375rem;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: background-color 0.2s ease;
            border: none;
        }
        .btn-custom-blue-lg:hover {
            background-color: #0056b3;
            color: white;
        }



        /* ==================== 모달 관련 커스텀 스타일 (다단계 설정 모달 CSS) ==================== */
        /* Custom styles for consistency and rounded corners */
        .modal-content {
            border-radius: 12px;
            overflow: hidden; /* Ensures rounded corners apply to children */
        }

        /* Beam Info Modal 관련 CSS */
        .beam-scan-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            padding: 0.25rem 0;
        }

        .beam-scan-field label {
            font-size: 0.875rem;
            color: #495057;
            margin: 0;
        }

        .toggle-switch {
            width: 40px;
            height: 20px;
            background-color: #ccc;
            border-radius: 10px;
            border: none;
            position: relative;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .toggle-switch:checked {
            background-color: #28a745;
        }

        .toggle-switch:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.25);
        }

        /* 초기 설정 모달 특정 스타일 */
        .modal-header.initial-setup-header {
            background-color: #A0A0A0; /* 회색 배경 */
            color: black; 
            border-bottom: none; 
            padding: 8px 15px; 
            position: relative; 
        }
        .modal-header.initial-setup-header .modal-title {
            font-weight: bold;
            font-size: 1rem; 
            display: flex;
            align-items: center;
            gap: 5px; 
        }
        .modal-header.initial-setup-header .modal-title i {
            font-size: 0.8rem; 
        }
        .modal-header.initial-setup-header .btn-close {
            color: black; 
            opacity: 1; 
            font-size: 0.9rem; 
            background: none; 
            padding: 0; 
            margin: 0; 
        }
        .modal-header.initial-setup-header .btn-close:focus {
            box-shadow: none;
        }
        .modal-header {
            background-color: #f8f9fa; /* Light header background */
            border-bottom: 1px solid #e9ecef;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        .modal-footer {
            border-top: 1px solid #e9ecef;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }
        .btn-styled {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-styled:hover {
            transform: translateY(-2px);
        }
        .btn-primary-custom {
            background-color: #2563eb; /* Blue */
            color: white;
        }
        .btn-secondary-custom {
            background-color: #6b7280; /* Gray */
            color: white;
        }

        /* DU Hidden Modal Grid Layout */
        .du-hidden-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto auto;
            gap: 15px;
            margin-bottom: 20px;
        }

        .rf-section, .optic-section {
            background: #e9ecef;
            border-radius: 6px;
            padding: 15px;
            border: 1px solid #ced4da;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .rf-section h6, .optic-section h6 {
            color: #495057;
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .rf-content {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .rf-column {
            flex: 1;
        }

        .rf-column h6 {
            color: #6c757d;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .optic-content {
            margin-top: 10px;
        }

        .input-item {
            margin-bottom: 8px;
        }

        .input-item label {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
            margin-bottom: 3px;
            display: block;
        }

        .input-with-unit {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .input-with-unit input {
            flex: 1;
            font-size: 12px;
            padding: 4px 8px;
            border: 1px solid #ced4da;
            border-radius: 3px;
            background: white;
        }

        .input-with-unit .unit {
            font-size: 11px;
            color: #6c757d;
            white-space: nowrap;
        }

        .bottom-section {
            grid-column: 1 / -1;
            background: #e9ecef;
            border-radius: 6px;
            padding: 15px;
            border: 1px solid #ced4da;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .bottom-content {
            display: flex;
            gap: 30px;
            justify-content: space-between;
        }

        .bottom-block {
            flex: 1;
        }

        .form-group-item {
            margin-bottom: 10px;
        }

        .form-group-item label {
            font-size: 12px;
            color: #495057;
            font-weight: 600;
            margin-bottom: 3px;
            display: block;
        }

        .form-group-item input {
            font-size: 12px;
            padding: 4px 8px;
            border: 1px solid #ced4da;
            border-radius: 3px;
            background: white;
            width: 100%;
        }

        .btn-toggle {
            padding: 4px 12px;
            border: none;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-toggle.on {
            background-color: #28a745;
            color: white;
        }

        .btn-toggle.off {
            background-color: #6c757d;
            color: white;
        }

        .cut-time-button {
            display: flex;
            justify-content: flex-end;
            margin-top: 15px;
        }

        .btn-custom-blue-lg {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        .btn-success-custom {
            background-color: #10b981; /* Green */
            color: white;
        }
        .btn-danger-custom {
            background-color: #ef4444; /* Red */
            color: white;
        }
        .step-content {
            display: none; /* Hide all step content by default */
        }
        .info-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        input[type="text"], input[type="number"], select {
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 0.5rem 0.75rem;
            width: 100%;
            background-color: #fff;
            transition: border-color 0.2s;
        }
        input[type="text"]:focus, input[type="number"]:focus, select:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.25);
        }
        /* 초기 설정 모달 특정 스타일 */
        .modal-header.initial-setup-header {
            background-color: #A0A0A0; /* 회색 배경 */
            color: black; 
            border-bottom: none; 
            padding: 8px 15px; 
            position: relative; 
        }
        .modal-header.initial-setup-header .modal-title {
            font-weight: bold;
            font-size: 1rem; 
            display: flex;
            align-items: center;
            gap: 5px; 
        }
        .modal-header.initial-setup-header .modal-title i {
            font-size: 0.8rem; 
        }
        .modal-header.initial-setup-header .btn-close {
            color: black; 
            opacity: 1; 
            font-size: 0.9rem; 
            background: none; 
            padding: 0; 
            margin: 0; 
        }
        .modal-header.initial-setup-header .btn-close:focus {
            box-shadow: none;
        }
        .modal-body.initial-setup-body {
            background-color: #E0E0E0; 
            padding: 20px; 
            display: flex;
            flex-direction: column;
            align-items: center; 
            gap: 20px; 
        }


        .initial-setup-bar {
            background-color: #FFFF00; 
            color: #1A2E59; 
            font-weight: bold;
            font-size: 1.2rem;
            padding: 8px 0; 
            text-align: center;
            width: 100%; 
            border-radius: 5px; 
        }
        .initial-setup-buttons {
            display: flex;
            gap: 15px; 
        }
        .initial-setup-body .btn-custom-gray {
            background-color: #A0A0A0; 
            color: black; 
            border: none;
            border-radius: 5px; 
            font-weight: bold;
            padding: 5px 20px; 
            font-size: 0.9rem;
        }
        .initial-setup-body .btn-custom-gray:hover {
            background-color: #8C8C8C; 
            color: black;
        }
        .initial-setup-time {
            font-size: 0.9rem;
            color: #555555;
            margin-top: 10px; 
        }
        /* 기존 모달 푸터와 겹치지 않도록 이름을 명확히 하고, 이 모달에서는 기본 푸터 숨김 */
        .modal-footer.initial-setup-footer { /* footer에 클래스 추가 */
             display: flex !important; /* 다시 보이게 함 */
             justify-content: space-between; 
             align-items: center; 
             padding: 1rem; /* 부트스트랩 기본 패딩 */
             border-top: 1px solid #dee2e6; /* 부트스트랩 기본 보더 */
        }
        .modal-footer { /* 기존 모달 푸터 스타일은 유지 */
            display: none; /* 이미지에 푸터가 없으므로 숨김 */
        }

        .siso-rf-box { margin-right: 40px; }
        .mimo-rf-box { margin-left: 40px; }

    </style>


</head>
<body onload="updateTime(); updateNavDotColors(); showScreen('du_content');">
    <nav class="navbar navbar-dark">
        <div class="container-fluid">
            <img src="static/images/main_logo.png" alt="Logo">
            <a class="navbar-brand" href="#">RF EMS</a>
            <div class="time-container">
                <span id="utc-time">UTC: Loading...</span> |
                <span id="browser-time">Local: Loading...</span>
            </div>
            <div class="icon-container d-flex align-items-center">
                <i class="fas fa-user me-3"></i> 
                <i class="fas fa-compass me-3"></i>                
                <div style="position: relative; display: inline-block;" class="me-3">
                    <i class="fas fa-bell"></i> <span class="badge rounded-pill bg-danger" style="position: absolute; top: -5px; right: -5px; font-size: 0.6em;">125</span>
                </div>
                <i class="fas fa-cog me-3"></i> <div class="dropdown">
                    <a class="nav-link dropdown-toggle d-flex align-items-center text-white" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" data-bs-toggle="dropdown" aria-expanded="false" style="color: white !important;">
                        <span class="me-2">primaer</span> </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="#">My Info</a></li>
                        <li><a class="dropdown-item" href="#">Logout</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="wrapper">
        <div class="sidebar">
            <div class="info-box"> 
                <p style="color: black;">Manufacturer:</p>
                <p><strong>FRTek</strong></p>
                <p style="color: black;">Version:</p>
                <p><strong><span id="McuSwVer">N/A</span></strong></p>
            </div>
            
            <div class="info-box">
                <p style="color: black;">IP:</p>
                <p><strong><span id="modipaddress">N/A</span></strong></p>
                <p style="color: black;">Local IP:</p>
                <p><strong>192.168.1.1</strong></p>
                <p style="color: black;">Port:</p>
                <p><strong>80</strong></p>
            </div>

            <div class="tx-rx-box">
                <span class="tx-box">TX</span>
                <span class="rx-box">RX</span>
            </div>

            <div class="status-box">
                <div class="status-item">
                    <span class="status-label">Normal</span>
                    <span class="status-circle status-normal"></span>
                </div>

                <div class="status-item">
                    <span class="status-label">Alarm</span>
                    <span class="status-circle status-alarm"></span>
                </div>

                <div class="status-item">
                    <span class="status-label">Link Fail</span>
                    <span class="status-circle status-linkfail"></span>
                </div>
            </div>
            
            <button class="btn btn-light w-100 mt-2">Reload</button>

            <!-- DU/SU Navigation Section -->
            <div class="du-su-section">
                <div class="du-item" id="nav_du" onclick="showScreen('du_content')">
                    <div class="du-item-circle status-circle" id="du_nav_dot"></div> <!-- status-circle 클래스 추가 -->
                    <span style="font-weight: bold;">DU</span>
                </div>

                <div class="su-item" id="nav_su1" onclick="showScreen('su1_content')">
                    <div class="du-item-circle status-circle" id="su1_nav_dot"></div> <!-- status-circle 클래스 추가 -->
                    <span>SU #1</span>
                </div>

                <div class="su-item" id="nav_su2" onclick="showInfoModal('SU #2 화면 전환 기능은 아직 구현되지 않았습니다.');">
                    <div class="du-item-circle status-circle" id="su2_nav_dot"></div> <!-- status-circle 클래스 추가 -->
                    <span>SU #2</span>
                </div>

                <div class="su-item" id="nav_su3" onclick="showInfoModal('SU #3 화면 전환 기능은 아직 구현되지 않았습니다.');">
                    <div class="du-item-circle status-circle" id="su3_nav_dot"></div> <!-- status-circle 클래스 추가 -->
                    <span>SU #3</span>
                </div>

                <div class="su-item" id="nav_su4" onclick="showInfoModal('SU #4 화면 전환 기능은 아직 구현되지 않았습니다.');">
                    <div class="du-item-circle status-circle" id="su4_nav_dot"></div> <!-- status-circle 클래스 추가 -->
                    <span>SU #4</span>
                </div>
            </div>

            <hr>
            <button class="btn btn-secondary w-100">Packet Info</button>
            <button class="btn btn-secondary w-100 mt-2">Sync Module</button>
            <button class="btn btn-secondary w-100 mt-2">Modem AtCmd</button>
            <button class="btn btn-primary w-100 mt-2">Download</button>
        </div>


        <div class="content-area">
            <!-- DU Content (첫 번째 이미지에 해당하는 내용) -->
            <div id="du_content_display" class="active">
                <div class="bg-light p-3 rounded shadow-sm mb-2"> 
                    <div class="row align-items-center mb-2"> 
                        <div class="col-md-3">
                            <small class="text-muted">Site ID :</small> Kor - FRTek - 001
                        </div>
                        <div class="col-md-3 text-center">
                            <small class="text-muted">Site Name :</small> Korea FRTek RF - EMIS
                        </div>
                        <div class="col-md-3 text-center">
                            <small class="text-muted">S/N :</small> <span id="conserialnum_header">N/A</span>
                        </div>
                        <div class="col-md-3 text-end">
                            <small class="text-muted">EMS ver :</small>
                            <span id="emsversion2">N/A</span>
                        </div>
                    </div>
                    
                <hr class="my-3" style="border-top: 1px dotted #000000;"> 
                <div class="d-flex justify-content-between align-items-center"> 
                    <div style="font-size: 1.5rem; font-weight: bold; color: #343a40;">DU <i class="fas fa-pencil-alt text-muted fs-6"></i></div>
                    <div>
                        <button id="openModalBtn" class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;"
                                data-bs-toggle="modal" data-bs-target="#duInitialSetupModal" onclick="startInitialSetup()">
                            Initial Setup
                        </button>
                        <button id="openModalBtn" class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;"
                                data-bs-toggle="modal" data-bs-target="#BtapnSetupModal" >
                            APN
                        </button>
                        <button id="openModalBtn" class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;"
                                data-bs-toggle="modal" data-bs-target="#confirmResetModal" >
                            RESET
                        </button>
                         <button id="openModalBtn" class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;"
                                data-bs-toggle="modal" data-bs-target="#duHiddenModal" >
                            HIDDEN
                        </button>
                        <button class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;"
                                data-bs-toggle="modal" data-bs-target="#beamInfoModal">Beam Info</button>       
                        <button class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;">Alarm Mask</button>
                        <button class="btn btn-sm" style="background-color: gray; border: none; border-radius: 5px; color: white;">Set Mode</button>
                    </div>
                </div>



                <!-- Initial Setup Custom Modal -->
                <div class="modal fade" id="duInitialSetupModal" tabindex="-1" aria-labelledby="duInitialSetupModalLabel" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content" style="background-color: #f5f5f5; text-align: center; border: 1px solid #ccc; border-radius: 5px;">
                        <div class="modal-header" style="background-color: #666;">
                            <h5 class="modal-title text-white" id="duInitialSetupModalLabel">Initial Setup</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-body">
                            <div class="p-3 mb-3" style="background-color: yellow; font-size: 2rem; font-weight: bold;">
                            INITIAL SETUP
                            </div>
                            <div class="d-flex justify-content-center gap-3 mb-4">
                            <button
                                class="btn btn-lg"
                                style="width: 120px; background-color: #d3dce6;"
                                data-bs-toggle="modal"
                                data-bs-target="#usimCheckModal"
                                data-bs-dismiss="modal"
                                onclick="startUsimTimer()">
                                Start
                            </button>


                            <button class="btn btn-lg" style="width: 120px; background-color: #d3dce6;" data-bs-dismiss="modal">Close</button>
                            </div>
                            <div class="mt-2" style="font-size: 1.2rem;">
                            Time : <span id="setupTimer">10</span> [Sec]
                            </div>
                        </div>
                        </div>
                    </div>
                </div>

                <!-- USIM Check Modal -->
                <div class="modal fade" id="usimCheckModal" tabindex="-1" aria-labelledby="usimCheckModalLabel" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered" style="max-width:600px;">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">
                            <div style="font-weight:bold; font-size:1.2rem; text-align:left; border-bottom:1px dashed #999; padding-bottom:10px; margin-bottom:20px;">
                                <i class="bi bi-folder"></i> USIM Insert Check
                            </div>
                            <div style="margin-bottom:30px;">
                                Did you insert the USIM Card?
                            </div>
                            <div class="d-flex justify-content-center gap-3 mb-4">
                                <button class="btn btn-lg btn-light" style="min-width:150px; font-weight:bold;">YES</button>
                                <button class="btn btn-lg btn-light" style="min-width:150px; font-weight:bold;">NO</button>
                            </div>
                            <div style="font-size:1rem; margin-top:10px; margin-bottom:20px;">
                                Time : <span id="usimTimer">300</span> [Sec]
                            </div>

                            <div class="modal-footer d-flex justify-content-between">
                                <button class="btn btn-secondary">Back</button>
                                <div>&lt;Step 1/7&gt;</div>
                                <button class="btn btn-primary" onclick="goToStep2()">Next</button>
                                <button class="btn btn-danger" data-bs-dismiss="modal" onclick="closeSetUpModal()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- APN Setup Modal -->
                <div class="modal fade" id="apnSetupModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">
                            <div style="font-weight:bold; font-size:1.2rem; text-align:left; border-bottom:1px dashed #999; padding-bottom:10px; margin-bottom:20px;">
                                <i class="bi bi-folder"></i> Modem APN Setup
                            </div>

                            <div class="modal-body text-center">

                                <div class="d-flex justify-content-center align-items-center gap-3 mb-4">
                                <label class="fw-bold">Mobile Company</label>
                                <input type="text" class="form-control text-center" style="max-width:100px;" value="uscc" readonly>
                                <input type="text" class="form-control text-center" style="max-width:300px;" value="uscc07454.enterprise3.usc-cdp">
                                <button class="btn btn-secondary">Set</button>
                                </div>
                                <div style="font-size:1rem; margin-top:10px; margin-bottom:20px;">
                                    Time : <span id="apnTimer">300</span> [Sec]
                                </div>

                            </div>
                            <div class="modal-footer d-flex justify-content-between">
                                <button class="btn btn-secondary" onclick="goToUsimFromApn()">Back</button>
                                <div>&lt;Step 2/7&gt;</div>
                                <button class="btn btn-primary" onclick="goToStep3()">Next</button>
                                <button class="btn btn-danger" data-bs-dismiss="modal" onclick="closeSetUpModal()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Device Time Setup Modal -->
                <div class="modal fade" id="DeviceSetupModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">
                            <div style="font-weight:bold; font-size:1.2rem; text-align:left; border-bottom:1px dashed #999; padding-bottom:10px; margin-bottom:20px;">
                                <i class="bi bi-folder"></i> Device Time Setup
                            </div>

                            <div class="modal-body text-center">

                                <div class="text-center my-4 p-3 bg-light rounded">
                                    Cur Time Set (PC browser time applied.)
                                </div>
                                <div style="font-size:1rem; margin-top:10px; margin-bottom:20px;">
                                    Time : <span id="DeviceTimer">300</span> [Sec]
                                </div>

                            </div>
                            <div class="modal-footer d-flex justify-content-between">
                                <button class="btn btn-secondary" onclick="goToApnFromDevice()">Back</button>
                                <div>&lt;Step 3/7&gt;</div>
                                <button class="btn btn-primary" onclick="goToStep4()">Next</button>
                                <button class="btn btn-danger" data-bs-dismiss="modal" onclick="closeSetUpModal()">Close</button>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- AGC & TDD Setup Modal -->
                <div class="modal fade" id="AgcSetupModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">
                        
                        <!-- Title -->
                        <div class="d-flex justify-content-between" style="margin-top: 10px; margin-bottom: 20px;">
                            <div style="font-weight:bold; font-size:1.1rem; text-align:left; border-bottom:1px dashed #999; padding-bottom:5px; width:48%;">
                            <i class="bi bi-folder"></i> AGC Setup
                            </div>
                            <div style="font-weight:bold; font-size:1.1rem; text-align:left; border-bottom:1px dashed #999; padding-bottom:5px; width:48%;">
                            <i class="bi bi-folder"></i> TDD Setup
                            </div>
                        </div>

                        <!-- Body -->
                        <div class="modal-body text-start d-flex justify-content-between gap-3">

                            <!-- AGC Setup -->
                            <div style="width:48%;">
                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">AGC On/Off</label>
                                    <div class="col-7">
                                    <button id="Mvbx_RsAgcMode" class="btn btn-success btn-sm w-100" style="width: 50px;">On</button>
                                    </div>
                                </div>

                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">AGC Level</label>
                                    <div class="col-7 d-flex align-items-center">
                                    <input type="text" id="Mvbx_RsAgcThreshold" class="form-control text-end" value="-97">
                                    <span class="ms-2">[dBm]</span>
                                    </div>
                                </div>

                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">gNB Type</label>
                                    <div class="col-7">
                                        <select id="gNB_Vender" class="form-select">
                                            <option value="na">N/A</option>
                                            <option value=0>Manual</option>
                                            <option value=1>Samsung</option>
                                            <option value=2>Nokia</option>
                                            <option value=3>Ericsson</option>
                                        </select>
                                        <button id="setVendorBtn" class="btn btn-sm btn-secondary mt-2">Set Vendor</button>
                                    </div>
                                </div>

                            </div>

                            <!-- TDD Setup -->
                            <div style="width:48%;">
                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">Frequency</label>
                                    <div class="col-7 d-flex align-items-center">
                                    <input type="text" class="form-control text-end" value="28086.24">
                                    <span class="ms-2">[MHz]</span>
                                    </div>
                                </div>

                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">ARFCN</label>
                                    <div class="col-7">
                                    <input type="text" class="form-control text-end" value="2080603">
                                    </div>
                                </div>

                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">SSB MU</label>
                                    <div class="col-7">
                                    <select class="form-select">
                                        <option selected>240K</option>
                                    </select>
                                    </div>
                                </div>

                                <div class="mb-3 row align-items-center">
                                    <label class="col-5 col-form-label">TDD Rate</label>
                                    <div class="col-7">
                                    <select class="form-select">
                                        <option selected>4 : 1</option>
                                    </select>
                                    </div>
                                </div>




                            </div>

                        </div>

                        <!-- Timer -->
                        <div style="font-size:1rem; margin-top:10px; margin-bottom:20px; text-align: center;">
                            Time : <span id="AgcTimer">300</span> [Sec]
                        </div>

                        <!-- Footer -->
                        <div class="modal-footer d-flex justify-content-between">
                            <button class="btn btn-secondary" onclick="goToDeviceFromAgc()">Back</button>
                            <div>&lt;Step 4/7&gt;</div>
                            <button class="btn btn-primary">Next</button>
                            <button class="btn btn-danger" data-bs-dismiss="modal" onclick="closeSetUpModal()">Close</button>
                        </div>
                        </div>
                    </div>
                </div>


                <!-- Confirm Reset Modal (Updated to match Initial Setup Modal style and content) -->
                <div class="modal fade" id="confirmResetModal" tabindex="-1" aria-labelledby="confirmResetModalLabel" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-sm">
                        <div class="modal-content" style="background-color: #f5f5f5; text-align: center; border: 1px solid #ccc; border-radius: 5px;">
                            <div class="modal-body p-4">
                                <div class="flex justify-center mb-4">
                                    <i class="fas fa-question-circle text-blue-400 text-5xl"></i>
                                </div>
                                <p class="text-lg text-gray-700 mb-6">Do you want to DU Reset it?</p>
                                <div class="d-flex justify-content-center gap-3 mb-4">
                                    <button
                                        type="button"
                                        class="btn btn-lg"
                                        style="width: 100px; background-color: #d3dce6;"
                                        data-bs-dismiss="modal"
                                        onclick="handleResetConfirmation(true)">
                                        Ok
                                    </button>
                                    <button
                                        type="button"
                                        class="btn btn-lg"
                                        style="width: 100px; background-color: #d3dce6;"
                                        data-bs-dismiss="modal"
                                        onclick="handleResetConfirmation(false)">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Button APN Setup Modal -->
                <div class="modal fade" id="BtapnSetupModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">

                            <div class="modal-body text-center">

                                <div class="d-flex justify-content-center align-items-center gap-3 mb-4">
                                <label class="fw-bold">Mobile Company</label>
                                <input type="text" class="form-control text-center" style="max-width:100px;" value="uscc" readonly>
                                <input type="text" class="form-control text-center" style="max-width:300px;" value="uscc07454.enterprise3.usc-cdp">
                                <button class="btn btn-secondary">Set</button>
                                </div>
                            </div>

                            <div class="d-flex justify-content-center gap-3 mb-4">
                                <button
                                    type="button"
                                    class="btn btn-lg"
                                    style="width: 100px; background-color: #d3dce6;"
                                    data-bs-dismiss="modal"
                                    onclick="handleResetConfirmation(false)">
                                    Close
                                </button>
                            </div>

                        </div>
                    </div>

                </div>

                <!-- DU Hidden Modal -->
                <div class="modal fade" id="duHiddenModal" tabindex="-1" aria-labelledby="duHiddenModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered modal-xl">
                        <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">
                            <div class="modal-header initial-setup-header" style="background-color: #6c757d; color: white; border-bottom: none; padding: 0.5rem 1rem; border-radius: 0.25rem 0.25rem 0 0; cursor: grab;">
                                <h5 class="modal-title" id="duHiddenModalLabel" style="font-weight: bold;">
                                    <i class="fas fa-plus me-2"></i>DU HIDDEN
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            
                            <div class="modal-body" style="background-color:#d1d1d1; padding: 20px; text-align: left;">
                                <!-- Main Grid Layout -->
                                <div class="row">
                                    <div class="col-md-6">
                                        <!-- SISO RF Section -->
                                        <div class="card mb-3">
                                            <div class="card-header">SISO RF</div>
                                            <div class="card-body">
                                        <div class="rf-content">
                                            <!-- DL Column -->
                                            <div class="rf-column">
                                                <h6 class="text-secondary d-flex align-items-center mb-2">
                                                    <i class="fas fa-plus me-1"></i> DL
                                                </h6>
                                                <!-- DL Top Section -->
                                                <div class="input-item">
                                                    <label>DL SUB ATT</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="4.5" class="form-control form-control-sm" id="DlSubAtten_SISO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>DL Input Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="-0.5" class="form-control form-control-sm" id="DL_InputOffset_SISO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- DL Middle Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>DL ATT Test</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0.0" class="form-control form-control-sm" id="Dl_Att_Test_Siso" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- DL Bottom Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>Ant Gain</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="46" class="form-control form-control-sm" id="Ant_Gain_Siso" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant ATT Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="-3" class="form-control form-control-sm" id="Ant_Offset_DL_Siso" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- UL Column -->
                                            <div class="rf-column">
                                                <h6 class="text-secondary d-flex align-items-center mb-2">
                                                    <i class="fas fa-plus me-1"></i> UL
                                                </h6>
                                                <!-- UL Top Section -->
                                                <div class="input-item">
                                                    <label>UL SUB ATT</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="UlSubAtten_SISO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>UL Output Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="UL_OutputOffset_SISO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>SD Status</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" readonly />
                                                        <span class="unit"></span>
                                                    </div>
                                                </div>
                                                
                                                <!-- UL Middle Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>UL ATT Test</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ul_Att_Test_Siso" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- UL Bottom Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>Ant Out Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ant_Out_Offset_Siso" />
                                                        <span class="unit">[dBm]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant Output</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" readonly id="Ant_Output_SISO" />
                                                        <span class="unit">[dBm]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant ATT Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ant_Offset_UL_Siso" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <!-- MIMO RF Section -->
                                        <div class="card mb-3">
                                            <div class="card-header">MIMO RF</div>
                                            <div class="card-body">
                                        <div class="rf-content">
                                            <!-- DL Column -->
                                            <div class="rf-column">
                                                <h6 class="text-secondary d-flex align-items-center mb-2">
                                                    <i class="fas fa-plus me-1"></i> DL
                                                </h6>
                                                <!-- DL Top Section -->
                                                <div class="input-item">
                                                    <label>DL SUB ATT</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="3.5" class="form-control form-control-sm" id="DlSubAtten_MIMO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>DL Input Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="-0.5" class="form-control form-control-sm" id="DL_InputOffset_MIMO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- DL Middle Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>DL ATT Test</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0.0" class="form-control form-control-sm" id="Dl_Att_Test_Mimo" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- DL Bottom Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>Ant Gain</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="48" class="form-control form-control-sm" id="Ant_Gain_Mimo" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant ATT Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="-3" class="form-control form-control-sm" id="Ant_Offset_DL_Mimo" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <!-- UL Column -->
                                            <div class="rf-column">
                                                <h6 class="text-secondary d-flex align-items-center mb-2">
                                                    <i class="fas fa-plus me-1"></i> UL
                                                </h6>
                                                <!-- UL Top Section -->
                                                <div class="input-item">
                                                    <label>UL SUB ATT</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="4.0" class="form-control form-control-sm" id="UlSubAtten_MIMO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>UL Output Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0.0" class="form-control form-control-sm" id="UL_OutputOffset_MIMO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>SD Status</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" readonly />
                                                        <span class="unit"></span>
                                                    </div>
                                                </div>
                                                
                                                <!-- UL Middle Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>UL ATT Test</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="U_Att_Testl_Mimo" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                
                                                <!-- UL Bottom Section -->
                                                <hr class="my-2" style="border-top: 1px dotted #6c757d; width: 100%; margin: 0 auto;" />
                                                <div class="input-item">
                                                    <label>Ant Out Output</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ant_Out_Offset_Mimo" />
                                                        <span class="unit">[dBm]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant Output</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ant_Output_MIMO" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                                <div class="input-item">
                                                    <label>Ant ATT Offset</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" value="0" class="form-control form-control-sm" id="Ant_Offset_UL_Mimo" />
                                                        <span class="unit">[dB]</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <!-- SISO OPTIC Section -->
                                        <div class="card mb-3">
                                            <div class="card-header">SISO OPTIC</div>
                                            <div class="card-body">
                                        <div class="optic-content">
                                            <div class="input-item">
                                                <label>LD PWR Offset</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="LD1_DET_DL0_SISO_Offset" />
                                                    <span class="unit">[dB]</span>
                                                </div>
                                            </div>
                                            <div class="input-item">
                                                <label>PD PWR Offset</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="PD1_DET_UL0_SISO_Offset" />
                                                    <span class="unit">[dB]</span>
                                                </div>
                                            </div>
                                            <div class="input-item">
                                                <label>RSRQ Offset</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="RsrpOffset" />
                                                    <span class="unit">[dB]</span>
                                                </div>
                                            </div>
                                            <div class="input-item">
                                                <label>RSRQ Low Level</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="LowRsrpLevel" />
                                                    <span class="unit">[dBm]</span>
                                                </div>
                                            </div>
                                            <div class="input-item">
                                                <label>RSRQ Still Time</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="LowRsrpStillTime" />
                                                    <span class="unit">[sec]</span>
                                                </div>
                                            </div>
                                        </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <!-- MIMO OPTIC Section -->
                                        <div class="card mb-3">
                                            <div class="card-header">MIMO OPTIC</div>
                                            <div class="card-body">
                                        <div class="optic-content">
                                            <div class="input-item">
                                                <label>LD PWR Offset</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="LD2_DET_DL1_MIMO_Offset" />
                                                    <span class="unit">[dB]</span>
                                                </div>
                                            </div>
                                            <div class="input-item">
                                                <label>PD PWR Offset</label>
                                                <div class="input-with-unit">
                                                    <input type="text" value="0" class="form-control form-control-sm" id="PD2_DET_UL1_MIMO_Offset" />
                                                    <span class="unit">[dB]</span>
                                                </div>
                                            </div>
                                        </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Bottom Section (S/N, Polling Time, Baudrate, Toggles) -->
                                <div class="card mb-3">
                                    <div class="card-header">System Settings</div>
                                    <div class="card-body">
                                        <div class="bottom-content">
                                            <!-- Left Block -->
                                            <div class="bottom-block">
                                                <div class="form-group-item">
                                                    <label class="font-semibold">S/N</label>
                                                    <input type="text" id="conserialnum" value="N/A" class="form-control form-control-sm" />
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">ISO Detect</label>
                                                    <input type="text" id="isodetect" value="N/A" class="form-control form-control-sm" />
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Polling Time</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" id="pollingtime" value="N/A" class="form-control form-control-sm" />
                                                        <span class="unit">[ms]</span>
                                                    </div>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Baudrate</label>
                                                    <div class="input-with-unit">
                                                        <input type="text" id="baudrate" value="N/A" class="form-control form-control-sm" />
                                                        <span class="unit">[bps]</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Middle Block (Toggles) -->
                                            <div class="bottom-block">
                                                <div class="form-group-item">
                                                    <label class="font-semibold">AOM Temp</label>
                                                    <button id="aomtemp-toggle" class="btn-toggle on">N/A</button>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Att Test</label>
                                                    <button id="att-test-toggle" class="btn-toggle off">N/A</button>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Api Init.</label>
                                                    <button id="api-init-toggle" class="btn-toggle on">N/A</button>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Api Init. Retry</label>
                                                    <button id="api-init-retry-toggle" class="btn-toggle on">N/A</button>
                                                </div>
                                            </div>

                                            <!-- Right Block (More Toggles) -->
                                            <div class="bottom-block">
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Debug</label>
                                                    <button id="debug-toggle" class="btn-toggle on">N/A</button>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Modem</label>
                                                    <button id="modem-toggle" class="btn-toggle off">N/A</button>
                                                </div>
                                                <div class="form-group-item">
                                                    <label class="font-semibold">Ant Band</label>
                                                    <span id ="antband">N/A</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="modal-footer" style="background-color:#d1d1d1; border-top: none; padding: 10px 20px; display: flex; justify-content: center; gap: 10px;">
                                <button type="button" class="btn btn-custom-blue-lg" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-custom-blue-lg">Set</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Beam Info Modal -->
                <div class="modal fade" id="beamInfoModal" tabindex="-1" aria-labelledby="beamInfoModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                    <div class="modal-dialog modal-dialog-centered" style="max-width: 95%; width: 95%;"> <div class="modal-content" style="background-color:#d1d1d1; text-align:center; padding:20px;">

                            <div class="modal-header initial-setup-header" style="background-color: #6c757d; color: white; border-bottom: none; padding: 0.5rem 1rem; border-radius: 0.25rem 0.25rem 0 0; cursor: grab;">
                                <h5 class="modal-title" id="beamInfoModalLabel" style="font-weight: bold;">
                                    <i class="fas fa-info-circle"></i> DU Beam Control
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>

                            <div class="modal-body" style="background-color:#d1d1d1; padding: 20px; text-align: left;">
                                <div class="card mb-3">
                                    <div class="card-header">Evn</div>
                                    <div class="card-body">
                                        <div class="row align-items-center g-2">
                                            <div class="col-auto">
                                                <small class="text-muted">Ant. Array Ver</small><br>
                                                <strong>0.3.16</strong>
                                            </div>
                                            <div class="col-auto">
                                                <small class="text-muted">Temper Comp</small>
                                            </div>
                                            <div class="col-auto">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input toggle-switch" type="checkbox" id="startTemperSwitch" checked>
                                                    <label class="form-check-label visually-hidden" for="startTemperSwitch">Start Temper Toggle</label>
                                                </div>
                                            </div>
                                            <div class="col-auto">
                                                <small class="text-muted">Start Temper</small><br>
                                                <strong>52.0℃</strong>
                                            </div>
                                            <div class="col-auto">
                                                <small class="text-muted">Cur Temper</small><br>
                                                <strong>59.0℃</strong>
                                            </div>
                                            <div class="col-auto ms-auto text-end">
                                                <small class="text-muted">Compensation DL</small><br>
                                                <strong>1dB</strong>
                                            </div>
                                            <div class="col-auto text-end">
                                                <small class="text-muted">Compensation UL</small><br>
                                                <strong>1dB</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">SISO Tx/Rx Gain Setting</div>
                                            <div class="card-body">
                                                <div class="row g-2">
                                                    <div class="col-12 d-flex align-items-center">
                                                        <i class="fas fa-circle-dot me-2 text-primary"></i> Front End
                                                        <div class="ms-auto d-flex align-items-center">
                                                            <span class="me-2 text-muted">Tx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm me-3" style="width: 50px;" value="9">
                                                            <span class="me-2 text-muted">Rx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm" style="width: 50px;" value="14">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 d-flex align-items-center">
                                                        <i class="fas fa-circle-dot me-2 text-primary"></i> Mixer
                                                        <div class="ms-auto d-flex align-items-center">
                                                            <span class="me-2 text-muted">Tx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm me-3" style="width: 50px;" value="5">
                                                            <span class="me-2 text-muted">Rx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm" style="width: 50px;" value="5">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">MIMO Tx/Rx Gain Setting</div>
                                            <div class="card-body">
                                                <div class="row g-2">
                                                    <div class="col-12 d-flex align-items-center">
                                                        <i class="fas fa-circle-dot me-2 text-primary"></i> Front End
                                                        <div class="ms-auto d-flex align-items-center">
                                                            <span class="me-2 text-muted">Tx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm me-3" style="width: 50px;" value="9">
                                                            <span class="me-2 text-muted">Rx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm" style="width: 50px;" value="14">
                                                        </div>
                                                    </div>
                                                    <div class="col-12 d-flex align-items-center">
                                                        <i class="fas fa-circle-dot me-2 text-primary"></i> Mixer
                                                        <div class="ms-auto d-flex align-items-center">
                                                            <span class="me-2 text-muted">Tx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm me-3" style="width: 50px;" value="5">
                                                            <span class="me-2 text-muted">Rx Gain Idx</span>
                                                            <input type="text" class="form-control form-control-sm" style="width: 50px;" value="5">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">Beam Book</div>
                                            <div class="card-body text-center">

                                                <svg id="beamBook" width="360" height="360" viewBox="0 0 400 400"></svg>


                                                <div class="text-start mt-3">
                                                    <small class="text-muted">Orientation</small> <span class="ms-2">0.000</span><br>
                                                    <small class="text-muted">Tilt</small> <span class="ms-4">0.000</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-3 beam-info-card">
                                            <div class="card-header">Beam Info</div>
                                            <div class="card-body p-0">
                                                <div class="table-responsive">
                                                    <table class="table table-striped table-sm mb-0 small-text">
                                                        <thead>
                                                            <tr>
                                                                <th scope="col">Rank</th>
                                                                <th scope="col">Beam ID</th>
                                                                <th scope="col">PCI</th>
                                                                <th scope="col">SSB</th>
                                                                <th scope="col">Energy</th>
                                                                <th scope="col">PSS</th>
                                                                <th scope="col">SNR(dB)</th>
                                                                <th scope="col">RSRP(dBm)</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>1st</td>
                                                                <td>1</td>
                                                                <td>313</td>
                                                                <td>0</td>
                                                                <td>1</td>
                                                                <td>0</td>
                                                                <td>-0.00</td>
                                                                <td>-990.00</td>
                                                            </tr>
                                                            <tr>
                                                                <td>2nd</td>
                                                                <td>12</td>
                                                                <td>313</td>
                                                                <td>32</td>
                                                                <td>0</td>
                                                                <td>1</td>
                                                                <td>15.91</td>
                                                                <td>-96.13</td>
                                                            </tr>
                                                            <tr>
                                                                <td>3rd</td>
                                                                <td>13</td>
                                                                <td>313</td>
                                                                <td>64</td>
                                                                <td>0</td>
                                                                <td>1</td>
                                                                <td>12.64</td>
                                                                <td>-99.63</td>
                                                            </tr>
                                                            <tr>
                                                                <td>4th</td>
                                                                <td>47</td>
                                                                <td>313</td>
                                                                <td>16</td>
                                                                <td>0</td>
                                                                <td>1</td>
                                                                <td>12.14</td>
                                                                <td>-100.57</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card mb-3">
                                            <div class="card-header">Beam Scan</div>
                                            <div class="card-body">
                                                <div class="row g-2">
                                                    <div class="col-md-6">
                                                        <div class="beam-scan-field">
                                                            <label for="beamRetry">Beam Retry</label>
                                                            <div class="form-check form-switch ms-auto">
                                                                <input class="form-check-input toggle-switch" type="checkbox" id="beamRetrySwitch" checked>
                                                                <label class="form-check-label visually-hidden" for="beamRetrySwitch">Beam Retry Toggle</label>
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="decodeAGC">Decode AGC</label>
                                                            <div class="form-check form-switch ms-auto">
                                                                <input class="form-check-input toggle-switch" type="checkbox" id="decodeAGCSwitch" checked>
                                                                <label class="form-check-label visually-hidden" for="decodeAGCSwitch">Decode AGC Toggle</label>
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="retryCount">Retry Count (1/min)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="retryCount" value="9230">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="pllRelockCount">PLL Relock Count</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="pllRelockCount" value="0">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="centerFrequency">Center Frequency</label>
                                                            <div class="input-group input-group-sm ms-auto" style="width: 120px;">
                                                                <input type="text" class="form-control" id="centerFrequency" value="2792500">
                                                                <span class="input-group-text">KHz</span>
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="beamFix">Beam Fix</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="beamFix" value="AUTO">
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="beam-scan-field">
                                                            <label for="apiLogLevel">API Log Level (2~4)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="apiLogLevel" value="5">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="apiAdcSel">API Adc Sel (0~3dB)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="apiAdcSel" value="0">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="syncPathGain">Sync Path Gain (0~15.2dB)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="syncPathGain" value="15">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="duTimeAdvance">DU Time Advance (10.5us)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="duTimeAdvance" value="0">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="suTimeAdvance">SU Time Advance (10.5us)</label>
                                                            <input type="text" class="form-control form-control-sm ms-auto" id="suTimeAdvance" value="0">
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="orientationActual">Orientation</label>
                                                            <div class="input-group input-group-sm ms-auto" style="width: 120px;">
                                                                <span class="input-group-text">Actual</span>
                                                                <input type="text" class="form-control" id="orientationActual" value="0">
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="orientationAdjust"></label>
                                                            <div class="input-group input-group-sm ms-auto" style="width: 120px;">
                                                                <span class="input-group-text">Adjust</span>
                                                                <input type="text" class="form-control" id="orientationAdjust" value="0">
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="tiltActual">Tilt</label>
                                                            <div class="input-group input-group-sm ms-auto" style="width: 120px;">
                                                                <span class="input-group-text">Actual</span>
                                                                <input type="text" class="form-control" id="tiltActual" value="0">
                                                            </div>
                                                        </div>
                                                        <div class="beam-scan-field">
                                                            <label for="tiltAdjust"></label>
                                                            <div class="input-group input-group-sm ms-auto" style="width: 120px;">
                                                                <span class="input-group-text">Adjust</span>
                                                                <input type="text" class="form-control" id="tiltAdjust" value="0">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>                             <div class="modal-footer justify-content-center" style="background-color:#d1d1d1; border-top: none; padding: 10px 20px; display: flex; gap: 10px;">
                                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal" style="visibility: visible; opacity: 1;">Cancel</button>
                                <button class="btn btn-primary" style="visibility: visible; opacity: 1;">Set Mode</button>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- DU System -->
                <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white;" class="mb-2">DU System</div>

                <div class="row">
                    <div class="col-md-6 mb-2">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 520px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> DU System
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small">
                                <div class="col-3 mb-2">
                                    <span><strong>F/W Ver</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="McuSwVer2">N/A</span> 
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Rpt Type</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="rpttype">N/A</span>
                                </div>

                                <div class="col-3 mb-2">
                                    <span><strong>FPGA Ver</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="FPGA_Ver">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Manufacturer</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>FRTek</span>
                                </div>

                                <div class="col-3 mb-2">
                                    <span><strong>Cur Time</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="curtime">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Cur Temper</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="curtemper">N/A</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>Temp Upper</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="tempupper">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Temp Lower</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="templower">N/A</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>FPGA Boot Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="FpgaStatus">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Init Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="InitStatus">N/A</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>Beam Scan Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="ScanStatus">N/A</span>
                                </div>
                                
                            </div>

                            <div class="p-3 mt-4 rounded shadow-sm" style="background-color: #f0ffff;">
                                <h5 class="text-primary d-flex align-items-center mb-3">
                                    <i class="fas fa-folder me-6"></i> SU Enable
                                </h5>
                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="row text-secondary small">
                                    <div class="col-3 mb-2">
                                        <span><strong>CASCADE</strong></span>
                                    </div>
                                    <div class="col-2 mb-2 text-center">
                                        <span id="su1-enable-badge" class="badge bg-secondary">N/A</span>
                                    </div>
                                    <div class="col-2 mb-2 text-center">
                                        <span id="su2-enable-badge" class="badge bg-secondary">N/A</span>
                                    </div>
                                    <div class="col-2 mb-2 text-center">
                                        <span id="su3-enable-badge" class="badge bg-secondary">N/A</span>
                                    </div>
                                    <div class="col-2 mb-2 text-center">
                                        <span id="su4-enable-badge" class="badge bg-secondary">N/A</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 520px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Alarm
                            </h5>
                            <hr class="my-2" />

                            <div class="row text-secondary small mb-4">
                                    <div class="col-4">
                                        <p id="alarm_dc"><span class="status-circle"></span> DC</p>
                                        <p id="alarm_temp" style="color: gray;"><span class="status-circle"></span> Temp</p>
                                        <p id="alarm_if_pll" style="color: gray;"><span class="status-circle"></span> IF PLL</p>
                                    </div>
                                    <div class="col-4">
                                        <p id="alarm_ac" style="color: gray;"><span class="status-circle"></span> AC</p>
                                        <p id="alarm_bat" style="color: gray;"><span class="status-circle"></span> BAT</p>
                                        <p id="alarm_sync_pll" style="color: gray;"><span class="status-circle"></span> Sync PLL</p>
                                    </div>
                                    <div class="col-4">
                                        <p id="alarm_fpga_link" style="color: gray;"><span class="status-circle"></span> FPGA Link</p>
                                        <p id="alarm_aa_link" style="color: gray;"><span class="status-circle"></span> Ant. Array Link</p>
                                        <p id="alarm_tsync_link" style="color: gray;"><span class="status-circle"></span> TSync Link</p>
                                        <p id="alarm_decoding" style="color: gray;"><span class="status-circle"></span> Decoding</p>
                                    </div>
                            </div>

                            <div class="p-3 rounded shadow-sm" style="background-color: #ffffff; border: 1px solid #e0e0e0;">
                                <h5 class="text-primary d-flex align-items-center mb-3">
                                    <i class="fas fa-folder me-2"></i> SU Link
                                </h5>
                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="row text-secondary small">
                                    <div class="col-3 text-center" id="su1-link-container">
                                        <div class="mb-2">
                                            <span>#1</span>
                                        </div>
                                        <div class="mb-2">
                                            <span id="su1-link-dot" class="status-dot status-unknown"></span>
                                        </div>
                                    </div>
                                    <div class="col-3 text-center" id="su2-link-container">
                                        <div class="mb-2">
                                            <span>#2</span>
                                        </div>
                                        <div class="mb-2">
                                            <span id="su2-link-dot" class="status-dot status-unknown"></span>
                                        </div>
                                    </div>
                                    <div class="col-3 text-center" id="su3-link-container">
                                        <div class="mb-2">
                                            <span>#3</span>
                                        </div>
                                        <div class="mb-2">
                                            <span id="su3-link-dot" class="status-dot status-unknown"></span>
                                        </div>
                                    </div>
                                    <div class="col-3 text-center" id="su4-link-container">
                                        <div class="mb-2">
                                            <span>#4</span>
                                        </div>
                                        <div class="mb-2">
                                            <span id="su4-link-dot" class="status-dot status-unknown"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                    </div>

                    <div class="col-md-2">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 520px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> ISO Measur
                            </h5>
                            <hr class="my-2" />

                            <div class="row text-secondary small">
                                <div class="col-6 mb-2">
                                    <span class="small-text"><strong>ISO Status</strong></span>
                                </div>
                                <div class="col-6 mb-2" style="text-align: center;">
                                    <span id="du_iso_status" class="small-text-2">N/A</span>
                                </div>

                                <div class="col-6 mb-2">
                                    <span>#1</span>
                                </div>
                                <div class="col-6 mb-2" style="text-align: center;">
                                    <span>-55dB</span>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>

                                <div class="row">
                    <!-- Modem Status -->
                    <div class="col-md-6"> <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                            Modem Status
                        </div>
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 390px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Modem Status
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small mb-4"> <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Status</strong></span>
                                        <span id="modstatus" class="text-success">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>IMSI</strong></span>
                                        <span id="modimsi" class="small-text">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>IMEI</strong></span>
                                        <span id="modimei" class="small-text">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Num</strong></span>
                                        <span id="modnum">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Mod IP</strong></span>
                                        <span id="modip">N/A</span>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRP</strong></span>
                                        <span id="rsrp">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRQ</strong></span>
                                        <span id="rsrq">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSSI</strong></span>
                                        <span id="rssi">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>PCI</strong></span>
                                        <span id="pci">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SINR</strong></span>
                                        <span id="sinr">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Tx Pwr</strong></span>
                                        <span id="txpwr">N/A</span>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Mod Ver</strong></span>
                                        <span id="modver">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>EMS Ver</strong></span>
                                        <span id="emsversion">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>LAN</strong></span>
                                        <span id="lan">N/A</span>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row text-center mt-3"> <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">Modem Reset</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">EMS Reset</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">LAN Disable</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">LAN Enable</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Beam Status -->
                    <div class="col-md-6">
                        <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                            Beam Status
                        </div>
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 390px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Beam Status
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small mb-4">
                                <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Beam ID</strong></span>
                                        <span id="mvbx_beamset">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRP</strong></span>
                                        <span id="mvbx_rsrp">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SNR</strong></span>
                                        <span id="mvbx_snr">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SSB</strong></span>
                                        <span id="mvbx_ssb">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>PCI</strong></span>
                                        <span id="mvbx_pci">N/A</span>
                                    </div>
                                </div>
                                <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Ant. Array On/Off</strong></span>
                                        <button class="btn btn-success btn-sm" style="width: 50px;" id="gumstick_onoff">N/A</button>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC On/Off</strong></span>
                                        <button class="btn btn-success btn-sm" style="width: 50px;" id="mvbx_rsagc_threshold">N/A</button>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC Level</strong></span>
                                        <span id="mvbx_rsagc_mode">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC Input</strong></span>
                                        <span id="agc_input_power">N/A</span>
                                    </div>
                                </div>
                                <div class="col-md-4">                                       <div class="d-flex justify-content-between mb-2">
                                          <span><strong>Decoded count</strong></span>
                                          <span id="decoded_ssb_count">N/A</span>
                                      </div>
                                      <div class="d-flex justify-content-between mb-2">
                                          <span><strong>Decoded success</strong></span>
                                          <span id="decoded_ssb_no_error_count">N/A</span>
                                      </div>
                                      <div class="d-flex justify-content-between mb-2">
                                          <span><strong>Decoded rate</strong></span>
                                          <span id="DecodedRate">N/A [%]</span>
                                      </div>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row mb-3 align-items-center">
                                <div class="col-md-3">
                                    <span><strong>gNB Type</strong></span>
                                </div>
                                <div class="col-md-9">
                                    <select class="form-select form-select-sm">
                                        <option selected>Manual</option>
                                        <option>Auto</option>
                                    </select>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row text-center mt-3"> <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">RSRP Req</button>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">PLL Relock</button>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">Beam Scan</button>
                                </div>
                            </div>
                                                </div>
                    </div>
                </div>

                <!-- AOM Status -->
                <div class="col-md-12 mb-4 mt-2"> <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                        AOM & mmWave
                    </div>
                    <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 340px;">
                        <h5 class="text-primary d-flex align-items-center mb-3">
                            <i class="fas fa-folder me-2"></i> AOM & mmWave
                        </h5>
                        <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                        <div class="row text-secondary small">
                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> SISO RF
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> DL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL Input</strong></span>
                                                <span id="dl_input_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ATT</strong></span>
                                                <span id="dl_att_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC Level</strong></span>
                                                <span id="dl_alc_level_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC On/Off</strong></span>
                                                <button class="btn btn-success btn-sm" style="width: 50px;" id="alc_dl0_siso_mode">N/A</button>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> UL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL Output(EIRP)</strong></span>
                                                <span id="ul_input_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ATT</strong></span>
                                                <span id="ul_att_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ISO Level</strong></span>
                                                <span id="ul_iso_level_siso">N/A</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-2">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL Front End ATT</strong></span>
                                            <span id = "mvbx_tx_gain_set_siso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL Front End ATT</strong></span>
                                            <span id = "mvbx_rx_gain_set_siso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL ISO ATT</strong></span>
                                            <span id="ul_iso_att_siso">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> MIMO RF
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> DL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL Input</strong></span>
                                                <span id="dl_input_mimo">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ATT</strong></span>
                                                <span id="dl_att_mimo">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC Level</strong></span>
                                                <span id="dl_alc_level_mimo">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC On/Off</strong></span>
                                                <button class="btn btn-success btn-sm" style="width: 50px;" id="alc_dl1_mimo_mode">N/A</button>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> UL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL Output(EIRP)</strong></span>
                                                <span id="ul_input_mimo">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ATT</strong></span>
                                                <span id="ul_att_mimo">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ISO Level</strong></span>
                                                <span id="ul_iso_level_mimo">N/A</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-2">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL Front End ATT</strong></span>
                                            <span id = "mvbx_tx_gain_set_miso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL Front End ATT</strong></span>
                                            <span id = "mvbx_rx_gain_set_miso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL ISO ATT</strong></span>
                                            <span id="ul_iso_att_mimo">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> SISO OPTIC
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL LD</strong></span>
                                            <span id="ld1_det_dl0_siso">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL PD</strong></span>
                                            <span id="pd1_det_ul0_siso">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-success me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>DL LD Lower</strong></span>
                                            <span id="ld1_det_dl0_siso_low">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-danger me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>UL PD Lower</strong></span>
                                            <span id="pd1_det_ul0_siso_low">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> MIMO OPTIC
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL LD</strong></span>
                                            <span id="ld2_det_dl1_mimo">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL PD</strong></span>
                                            <span id="pd2_det_ul1_mimo">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-success me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>DL LD Lower</strong></span>
                                            <span id="ld2_det_dl1_mimo_low">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-danger me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>UL PD Lower</strong></span>
                                            <span id="pd2_det_ul1_mimo_low">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



            </div>
            </div>


            <!-- SU Content (첫 번째 이미지에 해당하는 내용) -->
            <div id="su1_content_display">
                <div class="bg-light p-3 rounded shadow-sm mb-2"> 
                    <div class="row align-items-center mb-2"> 
                        <div class="col-md-3">
                            <small class="text-muted">Site ID :</small> Kor - FRTek - 001
                        </div>
                        <div class="col-md-3 text-center">
                            <small class="text-muted">Site Name :</small> Korea FRTek RF - EMIS
                        </div>
                        <div class="col-md-3 text-center">
                            <small class="text-muted">S/N :</small> FRC24-224-0550
                        </div>
                        <div class="col-md-3 text-end">
                            <small class="text-muted" >EMS ver :</small> 
                            <span id="ems_version2">N/A</span>
                        </div>
                    </div>
                    
                <hr class="my-3" style="border-top: 1px dotted #000000;"> 
                <div class="d-flex justify-content-between align-items-center"> 
                    <div style="font-size: 1.5rem; font-weight: bold; color: #343a40;">SU #1 <i class="fas fa-pencil-alt text-muted fs-6"></i></div>
                    <div>
                        <button class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;">RESET</button>
                        <button class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;">Beam Info</button>
                        <button class="btn btn-sm me-2" style="background-color: gray; border: none; border-radius: 5px; color: white;">Alarm Mask</button>
                        <button class="btn btn-sm" style="background-color: gray; border: none; border-radius: 5px; color: white;">Set Mode</button>
                    </div>
                </div>



                <!-- SU System -->
                <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white;" class="mb-2">SU System</div>

                <div class="row">
                    <div class="col-md-6 mb-2">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 450px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> SU System
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small">
                                <div class="col-3 mb-2">
                                    <span><strong>F/W Ver</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>{{ status.du_fw_ver if status else 'N/A' }}</span> 
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Rpt Type</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>DU_28G</span>
                                </div>

                                <div class="col-3 mb-2">
                                    
                                </div>
                                <div class="col-3 mb-2 text-end">
                                   
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Manufacturer</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>FRTek</span>
                                </div>

                                <div class="col-3 mb-2">
                                    <span><strong>Cur Time</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>2025-06-11 23:35:43</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Cur Temper</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>44 ℃</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>Temp Upper</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>80 ℃</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Temp Lower</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span>-30 ℃</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>FPGA Boot Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="FpgaStatus">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span><strong>Init Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="InitStatus">N/A</span>
                                </div>

                                <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                <div class="col-3 mb-2">
                                    <span><strong>Beam Scan Status</strong></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span id="InitStatus">N/A</span>
                                </div>
                                <div class="col-3 mb-2">
                                    <span></span>
                                </div>
                                <div class="col-3 mb-2 text-end">
                                    <span></span>
                                </div>
                            </div>

                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 450px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Alarm
                            </h5>
                            <hr class="my-2" />

                            <div class="row text-secondary small mb-4">
                                    <div class="col-4">
                                        <p id="alarm_dc"><span class="status-circle"></span> DC</p>
                                        <p id="alarm_temp" style="color: gray;"><span class="status-circle"></span> Temp</p>
                                        <p id="alarm_if_pll" style="color: gray;"><span class="status-circle"></span> IF PLL</p>
                                    </div>
                                    <div class="col-4">
                                        <p id="alarm_ac" style="color: gray;"><span class="status-circle"></span> AC</p>
                                        <p id="alarm_bat" style="color: gray;"><span class="status-circle"></span> BAT</p>
                                        <p id="alarm_sync_pll" style="color: gray;"><span class="status-circle"></span> Sync PLL</p>
                                    </div>
                                    <div class="col-4">
                                        <p id="alarm_fpga_link" style="color: gray;"><span class="status-circle"></span> FPGA Link</p>
                                        <p id="alarm_aa_link" style="color: gray;"><span class="status-circle"></span> Ant. Array Link</p>
                                        <p id="alarm_tsync_link" style="color: gray;"><span class="status-circle"></span> TSync Link</p>
                                        <p id="alarm_decoding" style="color: gray;"><span class="status-circle"></span> Decoding</p>
                                    </div>
                                    
                            </div>

                            </div>
                    </div>

                    <div class="col-md-2">
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 450px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> ISO Measur
                            </h5>
                            <hr class="my-2" />

                            <div class="row text-secondary small">
                                <div class="col-6 mb-2">
                                    <span><strong>ISO Status</strong></span>
                                </div>
                                <div class="col-6 mb-2 text-end">
                                    <span id="du_iso_status">N/A</span>
                                </div>

                                <div class="col-6 mb-2">
                                    <span>#1</span>
                                </div>
                                <div class="col-6 mb-2 text-end">
                                    <span>-55dB</span>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>


                <div class="row">
                    <!-- Modem Status -->
                    <div class="col-md-6"> <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                            Modem Status
                        </div>
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5;"> <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Modem Status
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small mb-4"> <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Status</strong></span>
                                        <span id="modstatus" class="text-success">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>IMSI</strong></span>
                                        <span id="modimsi">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>IMEI</strong></span>
                                        <span id="modimei">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Num</strong></span>
                                        <span id="modnum">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Mod IP</strong></span>
                                        <span id="modip">N/A</span>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRP</strong></span>
                                        <span id="rsrp">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRQ</strong></span>
                                        <span id="rsrq">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSSI</strong></span>
                                        <span id="rssi">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>PCI</strong></span>
                                        <span id="pci">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SINR</strong></span>
                                        <span id="sinr">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Tx Pwr</strong></span>
                                        <span id="txpwr">N/A</span>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Mod Ver</strong></span>
                                        <span id="modver">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>EMS Ver</strong></span>
                                        <span id="emsversion">N/A</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                        <span><strong>LAN</strong></span>
                                        <span id="lan">N/A</span>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row text-center mt-3"> <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">Modem Reset</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">EMS Reset</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">LAN Disable</button>
                                </div>
                                <div class="col-6 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">LAN Enable</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Beam Status -->
                    <div class="col-md-6">
                        <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                            Beam Status
                        </div>
                        <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5; min-height: 300px;">
                            <h5 class="text-primary d-flex align-items-center mb-3">
                                <i class="fas fa-folder me-2"></i> Beam Status
                            </h5>
                            <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                            <div class="row text-secondary small mb-4">
                                <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Beam ID</strong></span>
                                        <span>N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>RSRP</strong></span>
                                        <span>N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SNR</strong></span>
                                        <span>N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>SSB</strong></span>
                                        <span>N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>PCI</strong></span>
                                        <span>N/A</span>
                                    </div>
                                </div>
                                <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Ant. Array On/Off</strong></span>
                                        <button class="btn btn-success btn-sm" style="width: 50px;" id="gumstick_onoff">N/A</button>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC On/Off</strong></span>
                                        <button class="btn btn-success btn-sm" style="width: 50px;" id="mvbx_rsagc_threshold">N/A</button>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC Level</strong></span>
                                        <span id="mvbx_rsagc_mode">N/A</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>AGC Input</strong></span>
                                        <span>N/A</span>
                                    </div>
                                </div>
                                <div class="col-md-4"> <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Decoded count</strong></span>
                                        <span>0</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Decoded success</strong></span>
                                        <span>0</span>
                                    </div>
                                    <div class="d-flex justify-content-between mb-2">
                                        <span><strong>Decoded rate</strong></span>
                                        <span>0.0 [%]</span>
                                    </div>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row mb-3 align-items-center">
                                <div class="col-md-3">
                                    <span><strong>gNB Type</strong></span>
                                </div>
                                <div class="col-md-9">
                                    <select class="form-select form-select-sm">
                                        <option selected>Manual</option>
                                        <option>Auto</option>
                                    </select>
                                </div>
                            </div>

                            <hr class="my-3" style="border-top: 1px dotted black;" /> <div class="row text-center mt-3"> <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">RSRP Req</button>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">PLL Relock</button>
                                </div>
                                <div class="col-md-4 mb-2">
                                    <button class="btn btn-secondary w-100" style="background-color: #6c757d; color: white; border-radius: 5px;">Beam Scan</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AOM Status -->
                <div class="col-md-12 mb-4 mt-2"> <div style="background-color: #547186; padding: 10px; border-radius: 5px; color: white; margin-bottom: 10px;">
                        AOM & mmWave
                    </div>
                    <div class="p-3 rounded shadow-sm" style="background-color: #f5f5f5;">
                        <h5 class="text-primary d-flex align-items-center mb-3">
                            <i class="fas fa-folder me-2"></i> AOM & mmWave
                        </h5>
                        <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />

                        <div class="row text-secondary small">
                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;"> <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> SISO RF
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> DL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL Input</strong></span>
                                                <span id="dl_input_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ATT</strong></span>
                                                <span id="dl_att_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC Level</strong></span>
                                                <span id="dl_alc_level_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC On/Off</strong></span>
                                                <button class="btn btn-success btn-sm" style="width: 50px;">On</button>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> UL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL Output(EIRP)</strong></span>
                                                <span id="ul_input_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ATT</strong></span>
                                                <span id="ul_att_siso">N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>UL ISO Level</strong></span>
                                                <span id="ul_iso_level_siso">N/A</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-2">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL Front End ATT</strong></span>
                                            <span id="mvbx_tx_gain_set_siso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL Front End ATT</strong></span>
                                            <span id="mvbx_rx_gain_set_siso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong id="ul_iso_att_siso">UL ISO ATT</strong></span>
                                            <span>N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> MIMO RF
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> DL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="dl_input_mimo">DL Input</strong></span>
                                                <span>N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="dl_att_mimo">DL ATT</strong></span>
                                                <span>N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="dl_alc_level_mimo">DL ALC Level</strong></span>
                                                <span>N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong>DL ALC On/Off</strong></span>
                                                <button class="btn btn-success btn-sm" style="width: 50px;">On</button>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <h6 class="text-secondary d-flex align-items-center mb-2">
                                                <i class="fas fa-plus-circle me-1"></i> UL
                                            </h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="ul_input_mimo">UL Output(EIRP)</strong></span>
                                                <span>N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="ul_att_mimo">UL ATT</strong></span>
                                                <span>N/A</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span><strong id="ul_iso_level_mimo">UL ISO Level</strong></span>
                                                <span>N/A</span>
                                            </div>
                                        </div>
                                    </div>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-2">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL Front End ATT</strong></span>
                                            <span id="mvbx_tx_gain_set_miso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL Front End ATT</strong></span>
                                            <span id="mvbx_rx_gain_set_miso">NA</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong id="ul_iso_att_mimo">UL ISO ATT</strong></span>
                                            <span>N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> SISO OPTIC
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL LD</strong></span>
                                            <span id="ld1_det_dl0_siso">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL PD</strong></span>
                                            <span id="pd1_det_ul0_siso">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-success me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>DL LD Lower</strong></span>
                                            <span id="ld1_det_dl0_siso_low">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-danger me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>UL PD Lower</strong></span>
                                            <span id="pd1_det_ul0_siso_low">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <div class="p-3 rounded shadow-sm" style="background-color: #e9ecef;">
                                    <h6 class="text-primary d-flex align-items-center mb-3">
                                        <i class="fas fa-folder me-2"></i> MIMO OPTIC
                                    </h6>
                                    <hr class="my-2" style="border-top: 1px dotted black; width: 100%; margin: 0 auto;" />
                                    <div class="row mt-3">
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>DL LD</strong></span>
                                            <span id="ld2_det_dl1_mimo">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2">
                                            <span><strong>UL PD</strong></span>
                                            <span id="pd2_det_ul1_mimo">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-success me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>DL LD Lower</strong></span>
                                            <span id="ld2_det_dl1_mimo_low">N/A</span>
                                        </div>
                                        <div class="col-6 d-flex justify-content-between mb-2 align-items-center">
                                            <i class="fas fa-circle text-danger me-2" style="font-size: 0.7em;"></i>
                                            <span><strong>UL PD Lower</strong></span>
                                            <span id="pd2_det_ul1_mimo_low">N/A</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>





            <div class="modal fade" id="duBeamControlModal" tabindex="-1" aria-labelledby="duBeamControlModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl"> <!-- Adjusted to extra large for more content -->
                    <div class="modal-content rounded-lg shadow-xl">
                        <div class="modal-header bg-gray-700 text-white rounded-t-lg">
                            <h5 class="modal-title text-xl font-bold" id="duBeamControlModalLabel">DU Beam Control</h5>
                            <button type="button" class="btn-close text-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body p-6 bg-gray-50">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <!-- Left Column -->
                                <div class="flex flex-col gap-6">
                                    <!-- Env Section -->
                                    <div class="bg-white p-4 rounded-lg shadow-md">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">Env</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-700">
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Ant. Array Ver</span>
                                                <span>03.15</span>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Temper Comp.</span>
                                                <span>Green</span>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Start Temper</span>
                                                <span>53.0℃</span>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Cur Temper</span>
                                                <span>39.0℃</span>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Compensation DL</span>
                                                <span>1dB</span>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="font-semibold">Compensation UL</span>
                                                <span>1dB</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- SISO Tx/Rx Gain Setting -->
                                    <div class="bg-white p-4 rounded-lg shadow-md">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">SISO Tx/Rx Gain Setting</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <div class="grid grid-cols-2 gap-4 text-sm text-gray-700">
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Front End</span>
                                                <span class="ml-auto">Tx Gain Idx <strong class="text-blue-600">9</strong></span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Tx Gain Idx</span>
                                                <span class="ml-auto">14</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Mixer</span>
                                                <span class="ml-auto">Tx Gain Idx <strong class="text-blue-600">5</strong></span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Rx Gain Idx</span>
                                                <span class="ml-auto">5</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Beam Book (Placeholder for complex image) -->
                                    <div class="bg-white p-4 rounded-lg shadow-md">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">Beam Book</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <div class="w-full text-center py-8">
                                            <!-- This is a placeholder for the complex SVG/drawing from the image -->
                                            <!-- For now, we'll use a simple text or a placeholder image URL -->
                                            <img src="https://placehold.co/300x300/e0e0e0/333333?text=Beam+Book+Diagram" alt="Beam Book Diagram" class="mx-auto rounded-lg shadow-sm">
                                            <p class="text-sm text-gray-500 mt-2">[Orientation]</p>
                                            <p class="text-sm text-gray-500">0.000</p>
                                            <p class="text-sm text-gray-500">0.000</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column -->
                                <div class="flex flex-col gap-6">
                                    <!-- MIMO Tx/Rx Gain Setting -->
                                    <div class="bg-white p-4 rounded-lg shadow-md">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">MIMO Tx/Rx Gain Setting</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <div class="grid grid-cols-2 gap-4 text-sm text-gray-700">
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Front End</span>
                                                <span class="ml-auto">Tx Gain Idx <strong class="text-blue-600">9</strong></span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Tx Gain Idx</span>
                                                <span class="ml-auto">14</span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Mixer</span>
                                                <span class="ml-auto">Tx Gain Idx <strong class="text-blue-600">5</strong></span>
                                            </div>
                                            <div class="flex items-center">
                                                <i class="fas fa-circle-dot mr-2 text-blue-500"></i>
                                                <span class="font-semibold">Rx Gain Idx</span>
                                                <span class="ml-auto">5</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Beam Info Table -->
                                    <div class="bg-white p-4 rounded-lg shadow-md overflow-x-auto">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">Beam Info</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <table class="min-w-full text-sm text-gray-700 border-collapse">
                                            <thead>
                                                <tr class="bg-gray-100 border-b border-gray-200">
                                                    <th class="py-2 px-3 text-left font-semibold">Rank</th>
                                                    <th class="py-2 px-3 text-left font-semibold">Beam ID</th>
                                                    <th class="py-2 px-3 text-left font-semibold">PCI</th>
                                                    <th class="py-2 px-3 text-left font-semibold">SSB</th>
                                                    <th class="py-2 px-3 text-left font-semibold">Energy</th>
                                                    <th class="py-2 px-3 text-left font-semibold">PSS</th>
                                                    <th class="py-2 px-3 text-left font-semibold">SNR[dB]</th>
                                                    <th class="py-2 px-3 text-left font-semibold">RSRP[dBm]</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="border-b border-gray-100 bg-yellow-100">
                                                    <td class="py-2 px-3">1</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">1</td>
                                                    <td class="py-2 px-3">-0.00</td>
                                                    <td class="py-2 px-3">-990.00</td>
                                                </tr>
                                                <tr class="border-b border-gray-100">
                                                    <td class="py-2 px-3">2nd</td>
                                                    <td class="py-2 px-3">12</td>
                                                    <td class="py-2 px-3">313</td>
                                                    <td class="py-2 px-3">32</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">1</td>
                                                    <td class="py-2 px-3">15.81</td>
                                                    <td class="py-2 px-3">-96.13</td>
                                                </tr>
                                                <tr class="border-b border-gray-100 bg-green-100">
                                                    <td class="py-2 px-3">3rd</td>
                                                    <td class="py-2 px-3">13</td>
                                                    <td class="py-2 px-3">313</td>
                                                    <td class="py-2 px-3">64</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">1</td>
                                                    <td class="py-2 px-3">12.64</td>
                                                    <td class="py-2 px-3">-99.63</td>
                                                </tr>
                                                <tr class="border-b border-gray-100 bg-green-100">
                                                    <td class="py-2 px-3">4th</td>
                                                    <td class="py-2 px-3">47</td>
                                                    <td class="py-2 px-3">313</td>
                                                    <td class="py-2 px-3">16</td>
                                                    <td class="py-2 px-3">0</td>
                                                    <td class="py-2 px-3">1</td>
                                                    <td class="py-2 px-3">12.14</td>
                                                    <td class="py-2 px-3">-100.67</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <!-- Beam Scan -->
                                    <div class="bg-white p-4 rounded-lg shadow-md">
                                        <h6 class="font-bold text-lg text-gray-800 mb-3">Beam Scan</h6>
                                        <hr class="my-2 border-t border-dotted border-gray-300" />
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700">
                                            <div class="flex flex-col gap-2">
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Beam Retry</span>
                                                    <button class="bg-green-500 text-white rounded-md px-3 py-1 text-xs">On</button>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Retry Count(1/5min)</span>
                                                    <span>9230</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">PLL Relock Count</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Center Frequency</span>
                                                    <span>27252000 [KHz]</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Beam Fix</span>
                                                    <div class="flex items-center">
                                                        <span class="mr-2">AUTO</span>
                                                        <i class="fas fa-arrow-right text-gray-400"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="flex flex-col gap-2">
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">API Log Level(2-4)</span>
                                                    <span>3</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">API AGC Sel(0-2)</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Sync Path Gain(0-15)</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">DU Time Advance(10.5us)</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">SU Time Advance(10.5us)</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center mt-4">
                                                    <span class="text-gray-500">[Actual]</span>
                                                    <span class="text-gray-500">[Adjust]</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Orientation</span>
                                                    <span>0</span>
                                                    <span>0</span>
                                                </div>
                                                <div class="flex justify-between items-center">
                                                    <span class="font-semibold">Tx/Rx</span>
                                                    <span>0</span>
                                                    <span>0</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer bg-gray-100 rounded-b-lg p-4 flex justify-end space-x-3">
                            <button type="button" class="bg-gray-500 text-white rounded-md px-4 py-2 shadow-sm hover:bg-gray-600 transition duration-300 ease-in-out" data-bs-dismiss="modal">Cancel</button>
                            <button type="button" class="bg-blue-600 text-white rounded-md px-4 py-2 shadow-sm hover:bg-blue-700 transition duration-300 ease-in-out">Set Mode</button>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Confirm Reset Modal -->
            <div class="modal fade" id="confirmResetModal" tabindex="-1" aria-labelledby="confirmResetModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-sm modal-dialog-centered">
                    <div class="modal-content rounded-lg shadow-xl p-4 text-center">
                        <div class="modal-header border-b-0 pb-0 flex justify-center">
                            <h5 class="modal-title sr-only" id="confirmResetModalLabel">Reset Confirmation</h5>
                            <button type="button" class="btn-close absolute top-3 right-3 text-gray-500 hover:text-gray-700" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body pt-0">
                            <div class="flex justify-center mb-4">
                                <i class="fas fa-question-circle text-blue-400 text-5xl"></i>
                            </div>
                            <p class="text-lg text-gray-700 mb-6">Do you want to DU Reset it?</p>
                            <div class="flex justify-center space-x-4">
                                <button
                                    type="button"
                                    class="btn btn-lg"
                                    style="width: 120px; background-color: #d3dce6;"
                                    data-bs-dismiss="modal"
                                    onclick="handleResetConfirmation(true)">
                                    Ok
                                </button>

                                <button type="button" class="bg-gray-400 text-gray-800 rounded-md px-6 py-2 shadow-sm hover:bg-gray-500 transition duration-300 ease-in-out" data-bs-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




        </div>



    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.0.1/dist/socket.io.js"></script>

    <script>
        // ✅ 통합된 JavaScript
        let socket = io();
        let autoCloseTimeout;
        let timerInterval;
        let usimTimerInterval;
        let userStarted = false;
        let userModified = false;
        let savedVendor = null;
        let gNB_VenderElement;
        let timer = 10;
        let timeLeft = 300; // 초기 USIM 타이머 값 (초)
        let userClicked = false;

        // 전역 변수로 현재 알람 상태 저장 (초기값 설정)
        let currentDuAlarmStatus = 0; // 0: 정상 (초록색), 1: 알람 (빨간색) - DU 기본값을 0 (초록색)로 설정
        

        // Send_Packet 데이터 정의 (전역 변수로 선언)
        const sendPacketData = {
            'Rcv_Main_Sys': 0x30, // 1 byte
            'Rcv_Sub_Sys': 0x00,  // 1 byte
            'Rcv_Object': 0x10,   // 1 byte
            'Trans_Main_Sys': 0x40, // 1 byte
            'Trans_Sub_Sys': 0x00,  // 1 byte
            'Trans_Object': 0x10,   // 1 byte
            'CMD': 0x00, // 1 byte
            'EQUIP_TYPE': 0x00, // 1 byte
            'RESERVED': 0x0000, // 2 bytes (Uint16 equivalent for 2 bytes)
            'SubData_Size': 0x0000, // 2 bytes (unsigned short 0)
            // Control
            'InitCheckNum': Array(4).fill(0x00), // 4 bytes
            'ConMuFlag': Array(24).fill(0x00), // 24 bytes
            'ConSysTime': Array(7).fill(0x00), // 7 bytes
            'RptMakerCode': 0x00, // 1 byte
            'SysTemperHighLvl': 0x00, // 1 byte
            'SysTemperLowLvl': 0x00, // 1 byte
            'SubInitCheckNum': 0x00, // 1 byte
            'DebugMode': 0x00, // 1 byte
            'SuEnableInfo': Array(12).fill(0x00), // 12 bytes
            'MaskMuAlarm': Array(12).fill(0x00), // 12 bytes
            'MaskSuLinkFail': Array(12).fill(0x00), // 12 bytes
            'MaskSuSumAlarm': Array(12).fill(0x00), // 12 bytes
            'MaskSuRptAlarm': Array(12).fill(0x00), // 12 bytes
            'ConEmsModemReset': 0x00, // 1 byte
            'DownloadPath_GuiOrEms': 0x00, // 1 byte
            'PollingTime': 0x0000, // 2 bytes
            'ApiInitMode': 0x00, // 1 byte
            'AttTestMode': 0x00, // 1 byte
            'SuId': 0x00, // 1 byte
            'DL_UL_TEST': 0x00, // 1 byte
            'LocalInfo': Array(60).fill(0x00), // 60 bytes
            'SuOpticalEnStatus': 0x00, // 1 byte
            'PreStaAlarm': Array(12).fill(0x00), // 12 bytes
            'Mu_Su_Buadrate': 0x00, // 1 byte
            'ModemOnOff': 0x00, // 1 byte
            'RsrpOffset': 0x00, // 1 byte
            // RF 제어
            'ALC_DL0_SISO_Mode': 0x00, // 1 byte
            'ALC_DL1_MIMO_Mode': 0x00, // 1 byte
            'ALC_UL0_SISO_Mode': 0x00, // 1 byte
            'ALC_UL1_MIMO_Mode': 0x00, // 1 byte
            'ALC_DL0_SISO_Level': 0x0000, // 2 bytes
            'ALC_DL1_MIMO_Level': 0x0000, // 2 bytes
            'ALC_UL0_SISO_Level': 0x0000, // 2 bytes
            'ALC_UL1_MIMO_Level': 0x0000, // 2 bytes
            'SISO_RF_DET_DL0_OUT_High': 0x0000, // 2 bytes
            'SISO_RF_DET_UL0_OUT_High': 0x0000, // 2 bytes
            'MIMO_RF_DET_DL1_OUT_High': 0x0000, // 2 bytes
            'MIMO_RF_DET_UL1_OUT_High': 0x0000, // 2 bytes
            'LD1_DET_DL0_SISO_Low': 0x0000, // 2 bytes
            'LD2_DET_DL1_MIMO_Low': 0x0000, // 2 bytes
            'PD1_DET_UL0_SISO_Low': 0x0000, // 2 bytes
            'PD2_DET_UL1_MIMO_Low': 0x0000, // 2 bytes
            'LD3_DET_DL0_SISO_Low': 0x0000, // 2 bytes
            'LD4_DET_DL1_MIMO_Low': 0x0000, // 2 bytes
            'PD3_DET_UL0_SISO_Low': 0x0000, // 2 bytes
            'PD4_DET_UL1_MIMO_Low': 0x0000, // 2 bytes
            'LD1_DET_DL0_SISO_Offset': 0x0000, // 2 bytes
            'LD2_DET_DL1_MIMO_Offset': 0x0000, // 2 bytes
            'PD1_DET_UL0_SISO_Offset': 0x0000, // 2 bytes
            'PD2_DET_UL1_MIMO_Offset': 0x0000, // 2 bytes
            'LD3_DET_DL0_SISO_Offset': 0x0000, // 2 bytes
            'LD4_DET_DL1_MIMO_Offset': 0x0000, // 2 bytes
            'PD3_DET_UL0_SISO_Offset': 0x0000, // 2 bytes
            'PD4_DET_UL1_MIMO_Offset': 0x0000, // 2 bytes
            'DU_DlManualAtten_SISO': 0x00, // 1 byte
            'DU_DlSubAtten_SISO': 0x00, // 1 byte
            'DU_DlManualAtten_MIMO': 0x00, // 1 byte
            'DU_DlSubAtten_MIMO': 0x00, // 1 byte
            'DU_UlManualAtten_SISO': 0x00, // 1 byte
            'DU_UlSubAtten_SISO': 0x00, // 1 byte
            'DU_UlIsoAtten_SISO': 0x00, // 1 byte
            'DU_UlManualAtten_MIMO': 0x00, // 1 byte
            'DU_UlSubAtten_MIMO': 0x00, // 1 byte
            'DU_UlIsoAtten_MIMO': 0x00, // 1 byte
            'SU_DlManualAtten_SISO': 0x00, // 1 byte
            'SU_DlSubAtten_SISO': 0x00, // 1 byte
            'SU_DlManualAtten_MIMO': 0x00, // 1 byte
            'SU_DlSubAtten_MIMO': 0x00, // 1 byte
            'SU_UlManualAtten_SISO': 0x00, // 1 byte
            'SU_UlSubAtten_SISO': 0x00, // 1 byte
            'SU_UlManualAtten_MIMO': 0x00, // 1 byte
            'SU_UlSubAtten_MIMO': 0x00, // 1 byte
            'LicPassword': 0x0000, // 2 bytes
            'DL_OutputOffset_SISO': 0x0000, // 2 bytes
            'DL_OutputOffset_MIMO': 0x0000, // 2 bytes
            'UL_InputOffset_SISO': 0x0000, // 2 bytes
            'UL_InputOffset_MIMO': 0x0000, // 2 bytes
            'SU_UlCasSisoAtten_SISO': 0x00, // 1 byte
            'SU_UlCasSisoAtten_MIMO': 0x00, // 1 byte
            'SdOnOffSiso': 0x00, // 1 byte
            'SdOnOffMimo': 0x00, // 1 byte
            'DuFixBeam': 0x00, // 1 byte
            'Reserved4_Local': Array(7).fill(0x00), // 7 bytes
            'Dl_Siso_Att_Test': 0x0000, // 2 bytes
            'Dl_Mimo_Att_Test': 0x0000, // 2 bytes
            'Ul_Siso_Att_Test': 0x0000, // 2 bytes
            'Ul_Mimo_Att_Test': 0x0000, // 2 bytes
            'Reserved10p1': Array(32).fill(0x00), // 32 bytes
            // MVBX 제어
            'Mvbx_BeamSet': 0x00, // 1 byte
            'InstallUseMode': 0x00, // 1 byte
            'Reserved14': 0x0000, // 2 bytes
            'Mvbx_FpagImageSize': 0x00000000, // 4 bytes
            'Mvbx_FpagImageStartAddressOffset': 0x00000000, // 4 bytes
            'Reserved15': Array(16).fill(0x00), // 16 bytes
            'FpgaWriteAddress': 0x0000, // 2 bytes
            'FpgaWriteData': 0x0000, // 2 bytes
            'FpgaReadAddress': 0x0000, // 2 bytes
            'FpgaReadData': 0x0000, // 2 bytes
            'Reserved31': Array(12).fill(0x00), // 12 bytes
            'Mvbx_TddSignalMode': 0x00, // 1 byte
            'Mvbx_RsAgcThreshold': 0x00, // 1 byte
            'Mvbx_RsAgcMode': 0x00, // 1 byte
            'Reserved32': 0x00, // 1 byte
            'Mvbx_Mv2853TxGainSiso': 0x00, // 1 byte
            'Mvbx_Mv2853RxGainSiso': 0x00, // 1 byte
            'Mvbx_Mv2850TxGainSiso': 0x00, // 1 byte
            'Mvbx_Mv2850RxGainSiso': 0x00, // 1 byte
            'Mvbx_Mv2853TxGainMimo': 0x00, // 1 byte
            'Mvbx_Mv2853RxGainMimo': 0x00, // 1 byte
            'Mvbx_Mv2850TxGainMimo': 0x00, // 1 byte
            'Mvbx_Mv2850RxGainMimo': 0x00, // 1 byte
            'Mvbx_TxGainSetSiso': 0x00, // 1 byte
            'Mvbx_RxGainSetSiso': 0x00, // 1 byte
            'Mvbx_TxGainSetMiso': 0x00, // 1 byte
            'Mvbx_RxGainSetMiso': 0x00, // 1 byte
            'beam_info_pss_type': 0x00000000, // 4 bytes
            'beam_info_adc_sel': 0x00000000, // 4 bytes
            'beam_info_spg': 0x00000000, // 4 bytes
            'beam_info_ssbIdx': 0x00000000, // 4 bytes
            'beam_info_beamID': 0x0000, // 2 bytes
            'Reserved34': 0x0000, // 2 bytes
            'beam_info_energy': 0x00000000, // 4 bytes
            'beam_info_rsrp': 0x00000000, // 4 bytes
            'beam_info_snr': 0x00000000, // 4 bytes
            'PllSet': 0x00000000, // 4 bytes
            'IsoMeasSet': 0x00, // 1 byte
            'SuGsOnOff': 0x00, // 1 byte
            'SuIsoAttSet': 0x00, // 1 byte
            'GumStick_OnOff': 0x00, // 1 byte
            'BeamScan_OnOff': 0x00, // 1 byte
            'IsoDetectMode': 0x00, // 1 byte
            'ApiLogLevel': 0x00, // 1 byte
            'ApiAdcSel': 0x00, // 1 byte
            'ApiSyncPathGain': 0x00, // 1 byte
            'ApiDuTimeAdvance': 0x00, // 1 byte
            'ApiSuTimeAdvance': 0x00, // 1 byte
            'TemperCompensationMode': 0x00, // 1 byte
            'ApiVenderFreq': 0x00000000, // 4 bytes
            'ApiGsOutputPowerOffsetSiso': 0x0000, // 2 bytes
            'BeamAntSelect': 0x00, // 1 byte
            'DecodeRecoveryFuncOnOff': 0x00, // 1 byte
            'gNB_ScanOnOff': 0x00, // 1 byte
            'Reserved33': 0x00, // 1 byte
            'ApiGsOutputPowerOffsetMimo': 0x0000, // 2 bytes
            'gNB_Vendor': 0x00, // 1 byte
            'Gs_Gain_Siso': 0x00, // 1 byte
            'Gs_Gain_Mimo': 0x00, // 1 byte
            'ApiInitRetryMode': 0x00, // 1 byte
            'Orientation': 0x0000, // 2 bytes
            'Tilt': 0x0000, // 2 bytes
            'GS_AttenOffset_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_UL_Mimo': 0x00, // 1 byte
            'ConSerialNum': Array(16).fill(0x00), // 16 bytes
            'AomTemperConperMode': 0x00, // 1 byte
            'GS_AttenOffset_30by15_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_30by30_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by15_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by30_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by60_DL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_30by15_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_30by30_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by15_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by30_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by60_DL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_30by15_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_30by30_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by15_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by30_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_60by60_UL_Siso': 0x00, // 1 byte
            'GS_AttenOffset_30by15_UL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_30by30_UL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by15_UL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by30_UL_Mimo': 0x00, // 1 byte
            'GS_AttenOffset_60by60_UL_Mimo': 0x00, // 1 byte
            'Reserved41': Array(24).fill(0x00), // 24 bytes
            'LowRsrpStillTime': 0x00, // 1 byte
            'LowRsrpLevel': 0x0000, // 2 bytes
            'SU_DlCasSisoAtten_SISO': 0x00, // 1 byte
            'SU_DlCasSisoAtten_MIMO': 0x00, // 1 byte
            'SU_DlCasSisoAttenTest_SISO': 0x00, // 1 byte
            'SU_DlCasSisoAttenTest_MIMO': 0x00, // 1 byte
            'SU_UlCasSisoAttenTest_SISO': 0x00, // 1 byte
            'SU_UlCasSisoAttenTest_MIMO': 0x00, // 1 byte
            'Reserved41p1': Array(3).fill(0x00), // 3 bytes
            'PciResetOnOff': 0x00, // 1 byte
            'PciNo': 0x0000, // 2 bytes
            'PciTime': 0x00, // 1 byte
            'Reserved42': Array(7).fill(0x00), // 7 bytes
        };

        function updateStatusBadge1(elementId, value) {
            const el = document.getElementById(elementId);

            if (value === 0) {
                el.innerText = "FPGA FAIL";
                el.className = "badge bg-danger";
            } else if (value === 1) {
                el.innerText = "FPGA BOOTING";
                el.className = "badge bg-warning text-dark";
            } else if (value === 2) {
                el.innerHTML = "FPGA OK";
                el.className = "badge bg-info text-dark";
            } else {
                el.innerText = "N/A";
                el.className = "badge bg-dark";
            }
        }


        function updateStatusBadge2(elementId, value) {
            const el = document.getElementById(elementId);

            if (value === 0) {
                el.innerText = "INIT WAITING";
                el.className = "badge bg-secondary";
            } else if (value === 1) {
                el.innerText = "INITIALIZING";
                el.className = "badge bg-warning text-dark";
            } else if (value === 2) {
                el.innerText = "INIT OK";
                el.className = "badge bg-info text-dark";
            } else if (value === 3) {
                el.innerText = "BEAM SCANNING";
                el.className = "badge bg-primary";
            } else if (value === 4) {
                el.innerText = "INIT FAIL";
                el.className = "badge bg-danger";
            } else {
                el.innerText = "N/A";
                el.className = "badge bg-dark";
            }
        }


        function updateStatusBadge3(elementId, value) {
            const el = document.getElementById(elementId);

            if (value === 0) {
                el.innerText = "SCAN READY";
                el.className = "badge bg-secondary";
            } else if (value === 1) {
                el.innerText = "SCAN OK";
                el.className = "badge bg-info text-dark";
            } else if (value === 2) {
                el.innerText = "SCAN FAIL";
                el.className = "badge bg-danger";
            } else if (value === 4) {
                el.innerText = "SCAN OFF";
                el.className = "badge bg-dark";
            } else {
                el.innerText = "N/A";
                el.className = "badge bg-warning text-dark";
            }
        }

        // 비트 값 추출 함수 (중복 제거, 최종 버전)
        function getBitFromByteArray(byteArray, bitIndex) {
            const byteIndex = Math.floor(bitIndex / 8);
            const bitOffset = bitIndex % 8;
            return (byteArray[byteIndex] >> bitOffset) & 1;
        }

        // 비트 값에 따라 .status-circle 색상만 바꾸기
        function updateAlarmDotByBit(byteArray, bitIndex, elementId) {
            const el = document.querySelector(`#${elementId} .status-circle`);
            if (!el) return;

            const bit = getBitFromByteArray(byteArray, bitIndex);
            if (bit === 0) {
                el.style.backgroundColor = 'green'; // 정상
            } else if (bit === 1) {
                el.style.backgroundColor = 'red'; // 알람
            } else {
                el.style.backgroundColor = 'gray'; // 기본값
            }
        }

        // 서버에서 계산된 알람 상태로 .status-circle 색상 변경
        function updateAlarmDot(elementId, isActive) {
            const el = document.querySelector(`#${elementId} .status-circle`);
            if (!el) return;

            if (isActive) {
                el.style.backgroundColor = 'red'; // 알람
            } else {
                el.style.backgroundColor = 'green'; // 정상
            }
        }

        // =======================================================
        // 1. 데이터 및 전역 변수 설정
        // =======================================================
        const beamData = []; // 생성된 beam path/text 정보 저장
        const centerX = 200;
        const centerY = 200;
        const ringWidth = 30;

        // ✅ 링별 빔 개수: 중앙(1개)을 제외하고 정의합니다.
        // 중앙 원은 별도로 그려지므로 첫 번째 링부터 정의합니다.
        const ringSegments = [6, 12, 17, 22]; // 예: [6, 12, 17, 22] -> 총 4개 링

        // =======================================================
        // 2. BeamBook 그리기 (수정된 함수)
        // =======================================================
        function drawBeamBook() {
            const svg = document.getElementById("beamBook");
            svg.innerHTML = "";
            beamData.length = 0;

            // --- 중앙 원(0번) 그리기 (이전과 동일) ---
            const centerCircle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            centerCircle.setAttribute("cx", centerX);
            centerCircle.setAttribute("cy", centerY);
            centerCircle.setAttribute("r", ringWidth);
            centerCircle.setAttribute("fill", "yellow"); // 노란색으로 변경
            centerCircle.style.fill = "yellow"; // CSS 스타일로도 설정
            centerCircle.setAttribute("stroke", "#aaa");
            centerCircle.setAttribute("stroke-width", 1);
            svg.appendChild(centerCircle);

            const centerText = document.createElementNS("http://www.w3.org/2000/svg", "text");
            centerText.setAttribute("x", centerX);
            centerText.setAttribute("y", centerY);
            centerText.setAttribute("text-anchor", "middle");
            centerText.setAttribute("alignment-baseline", "middle");
            centerText.setAttribute("font-size", "12");
            centerText.setAttribute("fill", "white");
            centerText.setAttribute("font-weight", "bold");
            centerText.textContent = "0";
            svg.appendChild(centerText);

            beamData.push({ number: 0, pathEl: centerCircle, textEl: centerText });

            // --- 링 그리기 ---
            let startNum = 1;
            for (let ringIndex = 0; ringIndex < ringSegments.length; ringIndex++) {
                const segments = ringSegments[ringIndex];
                const innerRadius = (ringIndex + 1) * ringWidth;
                const outerRadius = innerRadius + ringWidth;

                for (let i = 0; i < segments; i++) {
                    const anglePerSegment = (2 * Math.PI) / segments;

                    // ✅ [수정된 부분] i 앞에 -를 붙여 방향을 반대로 바꿉니다.
                    const midAngle = -(i * anglePerSegment);
                    
                    const startAngle = midAngle - (anglePerSegment / 2);
                    const endAngle = midAngle + (anglePerSegment / 2);
                    
                    const beamNumber = startNum + i;

                    // Path, Text 생성 부분은 이전과 동일합니다.
                    const path = describeArc(centerX, centerY, innerRadius, outerRadius, startAngle, endAngle);
                    const pathEl = document.createElementNS("http://www.w3.org/2000/svg", "path");
                    pathEl.setAttribute("d", path);
                    pathEl.setAttribute("fill", "dimgray");
                    pathEl.setAttribute("stroke", "#aaa");
                    pathEl.setAttribute("stroke-width", 1);
                    svg.appendChild(pathEl);

                    const textRadius = (innerRadius + outerRadius) / 2;
                    const textX = centerX + textRadius * Math.cos(midAngle);
                    const textY = centerY + textRadius * Math.sin(midAngle);
                    const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
                    textEl.setAttribute("x", textX);
                    textEl.setAttribute("y", textY);
                    textEl.setAttribute("text-anchor", "middle");
                    textEl.setAttribute("alignment-baseline", "middle");
                    textEl.setAttribute("font-size", "10");
                    textEl.setAttribute("fill", "white");
                    textEl.textContent = beamNumber;
                    svg.appendChild(textEl);
                    
                    beamData.push({ number: beamNumber, pathEl: pathEl, textEl: textEl });
                }
                startNum += segments;
            }

            // =======================================================
            // ✅ 각도 텍스트 그리기 (사용자 지정 목록 반영)
            // =======================================================

            // ✅ 사용자가 제공한 22개의 각도 레이블 목록 (중복 '164'' 하나 제외)
            const angleLabels = [
                "0'", "16'", "33'", "49'", "65'", "82'", "98'", "115'", "131'", 
                "147'", "164'", "180'", "196'", "213'", "229'", "245'", "262'", 
                "278'", "295'", "311'", "327'", "344'"
            ];

            const lastRingIndex = ringSegments.length - 1;
            const lastRingSegments = ringSegments[lastRingIndex];
            const angleLabelRadius = (ringSegments.length + 1) * ringWidth + 10;

            // 레이블 배열의 개수와 세그먼트 개수가 일치하는지 확인
            if (angleLabels.length !== lastRingSegments) {
                console.error("지정된 각도 레이블의 개수와 마지막 링의 세그먼트 개수가 일치하지 않습니다.");
                return; // 개수가 다르면 충돌 방지를 위해 그리지 않음
            }

            const anglePerSegment = (2 * Math.PI) / lastRingSegments;

            for (let i = 0; i < lastRingSegments; i++) {
                const midAngle = -(i * anglePerSegment); // 위치 계산을 위한 각도는 그대로 사용

                // 텍스트 위치 계산
                const textX = centerX + angleLabelRadius * Math.cos(midAngle);
                const textY = centerY + angleLabelRadius * Math.sin(midAngle);

                // SVG 텍스트 요소 생성
                const textEl = document.createElementNS("http://www.w3.org/2000/svg", "text");
                textEl.setAttribute("x", textX);
                textEl.setAttribute("y", textY);
                textEl.setAttribute("text-anchor", "middle");
                textEl.setAttribute("alignment-baseline", "middle");
                textEl.setAttribute("font-size", "10");
                textEl.setAttribute("font-weight", "bold");
                textEl.setAttribute("fill", "deepskyblue");
                
                // ✅ [수정된 부분] 계산된 각도 대신, 배열에서 텍스트를 가져와 설정
                textEl.textContent = angleLabels[i];
                
                svg.appendChild(textEl);
            }
        }

        // =======================================================
        // 3. Path 계산 (수정된 함수)
        // =======================================================
        /**
         * SVG 경로 데이터(d 속성)를 생성하여 부채꼴 조각을 그립니다. (수정된 버전)
         * @param {number} cx - 중심 X 좌표
         * @param {number} cy - 중심 Y 좌표
         * @param {number} r1 - 내부 반지름
         * @param {number} r2 - 외부 반지름
         * @param {number} startAngle - 시작 각도 (라디안)
         * @param {number} endAngle - 끝 각도 (라디안)
         * @returns {string} SVG path의 d 속성에 들어갈 경로 데이터
         */
        function describeArc(cx, cy, r1, r2, startAngle, endAngle) {
            // 1. 부채꼴의 네 꼭짓점 계산
            const outerStart = { x: cx + r2 * Math.cos(startAngle), y: cy + r2 * Math.sin(startAngle) };
            const outerEnd   = { x: cx + r2 * Math.cos(endAngle),   y: cy + r2 * Math.sin(endAngle) };
            const innerStart = { x: cx + r1 * Math.cos(startAngle), y: cy + r1 * Math.sin(startAngle) };
            const innerEnd   = { x: cx + r1 * Math.cos(endAngle),   y: cy + r1 * Math.sin(endAngle) };

            // 2. 호가 180도보다 큰지 여부 판단
            const largeArcFlag = Math.abs(endAngle - startAngle) >= Math.PI ? '1' : '0';

            // 3. 올바른 순서로 경로 데이터 생성
            // (바깥 호 -> 직선 -> 안쪽 호 -> 닫기)
            const d = [
                "M", outerStart.x, outerStart.y, // 시작: 바깥쪽 호의 시작점
                "A", r2, r2, 0, largeArcFlag, 1, outerEnd.x, outerEnd.y, // 바깥쪽 호 그리기
                "L", innerEnd.x, innerEnd.y,     // 안쪽 호의 끝점으로 직선 연결
                "A", r1, r1, 0, largeArcFlag, 0, innerStart.x, innerStart.y, // 안쪽 호를 반대방향으로 그리기
                "Z" // 경로 닫기
            ].join(" ");

            return d;
        }

        // 외부에서 색상 업데이트
        function updateBeamColors({ yellow = [], blue = [] }) {
            for (const beam of beamData) {
                const { number, pathEl } = beam;
                if (yellow.includes(number)) {
                    pathEl.setAttribute("fill", "gold");
                } else if (blue.includes(number)) {
                    pathEl.setAttribute("fill", "deepskyblue");
                } else {
                    pathEl.setAttribute("fill", "dimgray");
                }
            }
        }

        // Beam Info 모달이 열릴 때 다이어그램 그리기
        document.addEventListener('DOMContentLoaded', function() {
            const beamInfoModal = document.getElementById('beamInfoModal');
            if (beamInfoModal) {
                beamInfoModal.addEventListener('shown.bs.modal', function() {
                    drawBeamBook();
                    updateBeamColors({
                        yellow: [],
                        blue: [12, 13, 47]
                    });
                });
            }
        });


        function updateTime() {
            let now = new Date();

            // UTC 시간 포맷: DD-MM-YYYY, HH:MM:SS AM/PM
            let utcDay = String(now.getUTCDate()).padStart(2, '0');
            let utcMonth = String(now.getUTCMonth() + 1).padStart(2, '0'); // 월은 0부터 시작하므로 +1
            let utcYear = now.getUTCFullYear();
            let utcHours = now.getUTCHours();
            let utcMinutes = String(now.getUTCMinutes()).padStart(2, '0');
            let utcSeconds = String(now.getUTCSeconds()).padStart(2, '0');

            let utcAmPm = utcHours >= 12 ? 'PM' : 'AM';
            utcHours = utcHours % 12;
            utcHours = utcHours ? String(utcHours).padStart(2, '0') : '12'; // 0시일 경우 12로 표시

            let formattedUtcTime = `${utcDay}-${utcMonth}-${utcYear}, ${utcHours}:${utcMinutes}:${utcSeconds} ${utcAmPm}`;
            document.getElementById("utc-time").innerText = "UTC Time: " + formattedUtcTime;

            // 브라우저 시간 포맷: DD-MM-YYYY, HH:MM:SS AM/PM
            // 브라우저의 현지 시간을 기준으로 날짜와 시간을 가져옵니다.
            let browserDay = String(now.getDate()).padStart(2, '0');
            let browserMonth = String(now.getMonth() + 1).padStart(2, '0');
            let browserYear = now.getFullYear();
            let browserHours = now.getHours();
            let browserMinutes = String(now.getMinutes()).padStart(2, '0');
            let browserSeconds = String(now.getSeconds()).padStart(2, '0');

            let browserAmPm = browserHours >= 12 ? 'PM' : 'AM';
            browserHours = browserHours % 12;
            browserHours = browserHours ? String(browserHours).padStart(2, '0') : '12'; // 0시일 경우 12로 표시

            let formattedBrowserTime = `${browserDay}-${browserMonth}-${browserYear}, ${browserHours}:${browserMinutes}:${browserSeconds} ${browserAmPm}`;
            document.getElementById("browser-time").innerText = "Browser Time: " + formattedBrowserTime;

        }
        setInterval(updateTime, 1000);


        // ✅ 초기 설정 모달 관리
        function startInitialSetup() {
            userStarted = true;
            clearTimeout(autoCloseTimeout);
            timer = 10;
            document.getElementById('setupTimer').textContent = timer;

            timerInterval = setInterval(() => {
                timer--;
                document.getElementById('setupTimer').textContent = timer;

                if (timer <= 0) {
                clearInterval(timerInterval);
                bootstrap.Modal.getInstance(document.getElementById('duInitialSetupModal')).hide();
                console.log('✅ Initial Setup countdown complete. Modal closed.');
                }
            }, 1000);
        }

        // ✅ USIM 타이머 및 모달 흐름
        function startUsimTimer(durationSeconds = 300) {
            timeLeft = durationSeconds;
            usimTimerInterval && clearInterval(usimTimerInterval);
            updateTimerDisplays();

            usimTimerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplays();
                if (timeLeft <= 0) {
                clearInterval(usimTimerInterval);
                ['usimCheckModal', 'apnSetupModal', 'DeviceSetupModal', 'AgcSetupModal']
                    .forEach(id => bootstrap.Modal.getInstance(document.getElementById(id))?.hide());
                }
            }, 1000);
        }

        function updateTimerDisplays() {
            document.getElementById('usimTimer').textContent = timeLeft;
            ['apnTimer', 'DeviceTimer', 'AgcTimer'].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.textContent = timeLeft;
            });
        }

        function goToStep2() {
            bootstrap.Modal.getInstance(document.getElementById('usimCheckModal'))?.hide();
            if (timeLeft <= 0) return;
            new bootstrap.Modal(document.getElementById('apnSetupModal')).show();
            updateTimerDisplays();
        }

        function goToStep3() {
            bootstrap.Modal.getInstance(document.getElementById('apnSetupModal'))?.hide();
            if (timeLeft <= 0) return;
            new bootstrap.Modal(document.getElementById('DeviceSetupModal')).show();
            updateTimerDisplays();
        }

        function goToStep4() {
            bootstrap.Modal.getInstance(document.getElementById('DeviceSetupModal'))?.hide();
            if (timeLeft <= 0) return;
            new bootstrap.Modal(document.getElementById('AgcSetupModal')).show();
            updateTimerDisplays();
        }

        function goToUsimFromApn() {
            bootstrap.Modal.getInstance(document.getElementById('apnSetupModal'))?.hide();
            new bootstrap.Modal(document.getElementById('usimCheckModal')).show();
            updateTimerDisplays();
        }

        function goToApnFromDevice() {
            bootstrap.Modal.getInstance(document.getElementById('DeviceSetupModal'))?.hide();
            new bootstrap.Modal(document.getElementById('apnSetupModal')).show();
            updateTimerDisplays();
        }

        function goToDeviceFromAgc() {
            bootstrap.Modal.getInstance(document.getElementById('AgcSetupModal'))?.hide();
            new bootstrap.Modal(document.getElementById('DeviceSetupModal')).show();
            updateTimerDisplays();
        }

        function closeSetUpModal() {
            clearInterval(usimTimerInterval);
            usimTimerInterval = null;
        }

        // ✅ DOM 초기화 및 gNB Vendor 이벤트
        document.addEventListener('DOMContentLoaded', function () {
            const modalEl = document.getElementById('duInitialSetupModal');
            const openModalBtn = document.getElementById('openModalBtn'); // 모달 여는 버튼 id 필요
            const agcModeEl = document.getElementById("Mvbx_RsAgcMode");

            
            // 모달이 열리기 시작할 때 (show) 초기화
            modalEl.addEventListener('show.bs.modal', function () {
                userStarted = false;
                timer = 10;
                document.getElementById('setupTimer').textContent = timer;

                // 10초 후 자동 닫힘 예약
                autoCloseTimeout = setTimeout(() => {
                    if (!userStarted) {
                        const modal = bootstrap.Modal.getInstance(modalEl);
                        modal.hide();
                        console.log('Modal auto-closed due to no Start press.');
                    }
                }, 10000);
            });

            // 모달 완전히 열렸을 때 포커스 이동
            modalEl.addEventListener('shown.bs.modal', function () {
                modalEl.focus(); // 모달에 tabindex="-1"이 있어야 포커스 가능
            });

            // 모달이 닫히기 직전 (hide) 포커스 모달 외부 버튼으로 이동
            modalEl.addEventListener('hide.bs.modal', function () {
                if (openModalBtn) {
                    openModalBtn.focus();
                }
            });

            // 모달 완전히 닫힌 후 타이머 정리
            modalEl.addEventListener('hidden.bs.modal', function () {
                clearTimeout(autoCloseTimeout);
                clearInterval(timerInterval);
                timer = 10;
                document.getElementById('setupTimer').textContent = timer;
            });

            if (agcModeEl) {
                agcModeEl.addEventListener("click", () => {
                    userClicked = true;
                    console.log("🖱️ User manually clicked AGC toggle.");
                });
            }

            
        });

        // 네비게이션 점 색상을 현재 알람 상태에 따라 업데이트하는 함수
        function updateNavDotColors() {
            const duNavDot = document.getElementById('du_nav_dot');
            const su1NavDot = document.getElementById('su1_nav_dot');
            const su2NavDot = document.getElementById('su2_nav_dot');
            const su3NavDot = document.getElementById('su3_nav_dot');
            const su4NavDot = document.getElementById('su4_nav_dot');

            // 모든 점에 대해 기존 색상 클래스 초기화
            [duNavDot, su1NavDot, su2NavDot, su3NavDot, su4NavDot].forEach(dot => {
                if (dot) {
                    // 기존 배경색 클래스 제거
                    dot.classList.remove('status-normal', 'status-alarm', 'status-linkfail', 'status-alarm-yellow', 'status-unknown');
                    // 인라인 스타일 초기화 (테두리는 유지)
                    dot.style.backgroundColor = ''; 
                }
            });

            // DU 점 색상 업데이트 - 기본값은 초록색, 알람 시 빨간색
            if (duNavDot) {
                duNavDot.classList.remove('status-normal', 'status-alarm');
                if (currentDuAlarmStatus === 1) {
                    duNavDot.classList.add('status-alarm'); // 알람 시 빨간색
                } else {
                    duNavDot.classList.add('status-normal'); // 정상 시 초록색 (기본값)
                }
            }

            // SU #1, #2, #3, #4 점 색상 업데이트 - SuLinkFailBits 데이터가 있으면 사용, 없으면 기본값
            if (window.currentSuLinkFailBits) {
                const bits = window.currentSuLinkFailBits;
                
                // SU1 링크 알람 (1비트: 0=정상, 1=링크페일알람)
                if (su1NavDot) {
                    su1NavDot.classList.remove('status-normal', 'status-linkfail');
                    if (bits.SU1_LINK_FAIL === 0) {
                        su1NavDot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU1_LINK_FAIL === 1) {
                        su1NavDot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su1NavDot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU2 링크 알람
                if (su2NavDot) {
                    su2NavDot.classList.remove('status-normal', 'status-linkfail');
                    if (bits.SU2_LINK_FAIL === 0) {
                        su2NavDot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU2_LINK_FAIL === 1) {
                        su2NavDot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su2NavDot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU3 링크 알람
                if (su3NavDot) {
                    su3NavDot.classList.remove('status-normal', 'status-linkfail');
                    if (bits.SU3_LINK_FAIL === 0) {
                        su3NavDot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU3_LINK_FAIL === 1) {
                        su3NavDot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su3NavDot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU4 링크 알람
                if (su4NavDot) {
                    su4NavDot.classList.remove('status-normal', 'status-linkfail');
                    if (bits.SU4_LINK_FAIL === 0) {
                        su4NavDot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU4_LINK_FAIL === 1) {
                        su4NavDot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su4NavDot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
            } else {
                // SuLinkFailBits 데이터가 없으면 기본값은 초록색으로 설정 (정상 상태)
                if (su1NavDot) {
                    su1NavDot.classList.remove('status-normal', 'status-linkfail');
                    su1NavDot.classList.add('status-normal');
                }
                if (su2NavDot) {
                    su2NavDot.classList.remove('status-normal', 'status-linkfail');
                    su2NavDot.classList.add('status-normal');
                }
                if (su3NavDot) {
                    su3NavDot.classList.remove('status-normal', 'status-linkfail');
                    su3NavDot.classList.add('status-normal');
                }
                if (su4NavDot) {
                    su4NavDot.classList.remove('status-normal', 'status-linkfail');
                    su4NavDot.classList.add('status-normal');
                }
            }
        }

        // 화면 전환 함수
        function showScreen(screenId) {
            const duContent = document.getElementById('du_content_display');
            const su1Content = document.getElementById('su1_content_display');
            const duNavDot = document.getElementById('du_nav_dot');
            const su1NavDot = document.getElementById('su1_nav_dot');
            const su2NavDot = document.getElementById('su2_nav_dot');
            const su3NavDot = document.getElementById('su3_nav_dot');
            const su4NavDot = document.getElementById('su4_nav_dot');

            // 모든 네비게이션 점을 현재 알람 상태 색상으로 먼저 초기화 (비활성화 상태의 색상)
            updateNavDotColors();

            // 모든 화면 숨김
            duContent.classList.remove('active');
            su1Content.classList.remove('active');

            // 선택된 화면 표시 및 활성화된 화면의 네비게이션 점 색상 변경 (흰색)
            if (screenId === 'du_content') {
                duContent.classList.add('active');
            } else if (screenId === 'su1_content') {
                su1Content.classList.add('active');
                console.log('SU #1 content activated.'); // 디버깅 로그
            }
             // SU #2 화면이 활성화될 경우 (현재는 구현되지 않음)
             else if (screenId === 'su2_content') {
                showInfoModal('SU #2 화면 전환 기능은 아직 구현되지 않았습니다.');
            }
        }


        // ✅ Socket.IO 연결
        socket.on('connect', () => console.log('🟢 Connected to Flask Server'));
        socket.on('disconnect', () => console.log('🔴 Disconnected from Flask Server'));

        // RX 박스 상태 관리
        let rxBoxState = {
            originalBg: null,
            originalColor: null
        };

        // RX 박스 초기 상태 저장
        document.addEventListener('DOMContentLoaded', function() {
            const rxBox = document.querySelector('.rx-box');
            if (rxBox) {
                rxBoxState.originalBg = window.getComputedStyle(rxBox).backgroundColor;
                rxBoxState.originalColor = window.getComputedStyle(rxBox).color;
            }
            
            // 네비게이션 점 기본값 설정 (초록색)
            updateNavDotColors();
        });

        // RX 박스 켜기
        socket.on("rx_on", function () {
            document.querySelectorAll('.rx-box').forEach(rxbox => {
                rxbox.style.backgroundColor = 'yellow';
                rxbox.style.color = 'black';
            });
            console.log("🟡 RX Box: ON");
        });

        // RX 박스 끄기
        socket.on("rx_off", function () {
            document.querySelectorAll('.rx-box').forEach(rxbox => {
                rxbox.style.backgroundColor = rxBoxState.originalBg;
                rxbox.style.color = rxBoxState.originalColor;
            });
            console.log("⚫ RX Box: OFF");
        });

        socket.on("update_status", function (data) {
            //console.log("📥 Received update_status:", data.packet);

            // SuLinkFailBits 처리 (1비트씩)
            if (data.packet.SuLinkFailBits) {
                const bits = data.packet.SuLinkFailBits;
                
                // 전역 변수에 저장하여 updateNavDotColors에서 사용할 수 있도록 함
                window.currentSuLinkFailBits = bits;
                
                // SU1 링크 알람 (1비트: 0=정상, 1=링크페일알람)
                const su1Dot = document.querySelector('#su1-link-dot');
                if (su1Dot) {
                    su1Dot.className = 'status-dot';
                    if (bits.SU1_LINK_FAIL === 0) {
                        su1Dot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU1_LINK_FAIL === 1) {
                        su1Dot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su1Dot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU2 링크 알람
                const su2Dot = document.querySelector('#su2-link-dot');
                if (su2Dot) {
                    su2Dot.className = 'status-dot';
                    if (bits.SU2_LINK_FAIL === 0) {
                        su2Dot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU2_LINK_FAIL === 1) {
                        su2Dot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su2Dot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU3 링크 알람
                const su3Dot = document.querySelector('#su3-link-dot');
                if (su3Dot) {
                    su3Dot.className = 'status-dot';
                    if (bits.SU3_LINK_FAIL === 0) {
                        su3Dot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU3_LINK_FAIL === 1) {
                        su3Dot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su3Dot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // SU4 링크 알람
                const su4Dot = document.querySelector('#su4-link-dot');
                if (su4Dot) {
                    su4Dot.className = 'status-dot';
                    if (bits.SU4_LINK_FAIL === 0) {
                        su4Dot.classList.add('status-normal'); // 초록색 (정상)
                    } else if (bits.SU4_LINK_FAIL === 1) {
                        su4Dot.classList.add('status-linkfail'); // 주황색 (링크페일알람)
                    } else {
                        su4Dot.classList.add('status-normal'); // 기본값: 초록색
                    }
                }
                
                // 네비게이션 점 색상 업데이트
                updateNavDotColors();
            }

            const updateText = (id, value) => {
                const el = document.getElementById(id);
                if (el && value !== undefined) el.innerText = value;
            };
            const updateValue = (id, value) => {
                const el = document.getElementById(id);
                if (el && value !== undefined) {
                    el.value = value;
                    // ID 값 출력 시 텍스트 크기 조정
                    el.style.fontSize = '0.85rem';
                }
            };

            const statusText = {
                0: "NONE",
                1: "ACTIVE",
                2: "SUCCESS",
                3: "FAIL"
            };

            /*

            const decodeText = (arr) => {
                try {
                    return new TextDecoder().decode(new Uint8Array(arr)).replace(/\x00/g, "").trim() || "N/A";
                } catch (e) {
                    console.error("Decode Error:", e);
                    return "N/A";
                }
            };

            const parseVersion = (arr) => {
                if (arr && arr.length === 2) {
                    return `${arr[0]}.${arr[1].toString().padStart(2, "0")}`;
                }
                return "N/A";
            };

            */

            updateText("McuSwVer", data.packet.McuSwVer);
            updateText("modipaddress", data.packet.ModIpAddress);

            updateText("McuSwVer2", data.packet.McuSwVer);

            updateText("FPGA_Ver", data.packet.FPGA_Ver);

            const rtpTypeText = {
            0: "DU_28G",
            1: "DU_39G",
            2: "DU_26G"
            };

            updateText("rpttype", rtpTypeText[data.packet.RtpKind] || "Unknown");

            // cur_time, cur_temper

            if (data.packet.System_Year && data.packet.System_hour) {
            updateText("curtime", `${data.packet.System_Year} ${data.packet.System_hour}`);
            }

            if (data.packet.SysTemper !== undefined) {
            updateText("curtemper", `${data.packet.SysTemper} ℃`);
            }
            
            if (data.packet.SysTemperHighLvl !== undefined) {
            updateText("tempupper", `${data.packet.SysTemperHighLvl} ℃`);
            }
            
            if (data.packet.SysTemperLowLvl !== undefined) {
            updateText("templower", `${data.packet.SysTemperLowLvl} ℃`);
            }


            //Modem Status 화면

            updateText("modstatus", statusText[data.packet.ModStatus] || "Unknown");
            updateText("modimsi", data.packet.ModIMSINum);
            updateText("modimei", data.packet.ModIMEINum);
            updateText("modnum", data.packet.ModPhonNumber);
            updateText("rsrp", data.packet.ModRsrp + " [dBm]");
            updateText("rsrq", data.packet.ModRsrq + " [dBm]");
            updateText("rssi", data.packet.ModRssi + " [dBm]");
            updateText("pci", data.packet.ModPci);
            updateText("sinr", data.packet.ModSinr + " [dB]");
            updateText("txpwr", data.packet.ModTxPwr + " [dBm]");
            updateText("modver", data.packet.ModVersion);
            updateText("emsversion", data.packet.ModEmsFwVer);
            updateText("emsversion2", data.packet.ModEmsFwVer);
            updateText("modip", data.packet.ModIpAddress);
            updateText("lan", data.packet.ModLanUseMode === 1 ? "Enable" : "Disable");
            
            // ISO Detect Mode: 1이면 MIMO, 0이면 SISO
            updateValue("isodetect", data.packet.IsoDetectMode === 1 ? "MIMO" : "SISO");
            
            // Polling Time: 값 출력 (범위 100~5,000ms)
            updateValue("pollingtime", data.packet.PollingTime);
            
            // Baudrate: 0=19200bps, 1=38400bps, 2=57600bps, 3=115200bps
            let baudrateText = "N/A";
            if (data.packet.Mu_Su_Buadrate === 0) baudrateText = "19200";
            else if (data.packet.Mu_Su_Buadrate === 1) baudrateText = "38400";
            else if (data.packet.Mu_Su_Buadrate === 2) baudrateText = "57600";
            else if (data.packet.Mu_Su_Buadrate === 3) baudrateText = "115200";
            updateValue("baudrate", baudrateText);
            
            // Ant Band: 0이면 Single, 1이면 Tri
            updateText("antband", data.packet.ApiOldNewVer === 0 ? "Single" : (data.packet.ApiOldNewVer === 1 ? "Tri" : "N/A"));
            
            // 토글 버튼 업데이트 (1=ON, 0=OFF)
            // AOM Temp
            const aomTempToggle = document.getElementById('aomtemp-toggle');
            if (aomTempToggle) {
                if (data.packet.AomTemperConperMode === 1) {
                    updateText('aomtemp-toggle', 'On');
                    aomTempToggle.className = 'btn-toggle on';
                } else {
                    updateText('aomtemp-toggle', 'Off');
                    aomTempToggle.className = 'btn-toggle off';
                }
            }
            
            // Att Test
            const attTestToggle = document.getElementById('att-test-toggle');
            if (attTestToggle) {
                if (data.packet.AttTestMode === 1) {
                    updateText('att-test-toggle', 'On');
                    attTestToggle.className = 'btn-toggle on';
                } else {
                    updateText('att-test-toggle', 'Off');
                    attTestToggle.className = 'btn-toggle off';
                }
            }
            
            // Api Init
            const apiInitToggle = document.getElementById('api-init-toggle');
            if (apiInitToggle) {
                if (data.packet.ApiInitMode === 1) {
                    updateText('api-init-toggle', 'On');
                    apiInitToggle.className = 'btn-toggle on';
                } else {
                    updateText('api-init-toggle', 'Off');
                    apiInitToggle.className = 'btn-toggle off';
                }
            }
            
            // Api Init Retry
            const apiInitRetryToggle = document.getElementById('api-init-retry-toggle');
            if (apiInitRetryToggle) {
                if (data.packet.ApiInitRetryMode === 1) {
                    updateText('api-init-retry-toggle', 'On');
                    apiInitRetryToggle.className = 'btn-toggle on';
                } else {
                    updateText('api-init-retry-toggle', 'Off');
                    apiInitRetryToggle.className = 'btn-toggle off';
                }
            }
            
            // Debug
            const debugToggle = document.getElementById('debug-toggle');
            if (debugToggle) {
                if (data.packet.DebugMode === 1) {
                    updateText('debug-toggle', 'On');
                    debugToggle.className = 'btn-toggle on';
                } else {
                    updateText('debug-toggle', 'Off');
                    debugToggle.className = 'btn-toggle off';
                }
            }
            
            // Modem
            const modemToggle = document.getElementById('modem-toggle');
            if (modemToggle) {
                if (data.packet.ModemOnOff === 1) {
                    updateText('modem-toggle', 'On');
                    modemToggle.className = 'btn-toggle on';
                } else {
                    updateText('modem-toggle', 'Off');
                    modemToggle.className = 'btn-toggle off';
                }
            }

            /*
            const parseFloat32 = (bytes) => {
                try {
                    if (!Array.isArray(bytes) || bytes.length !== 4) return "N/A";
                    const buffer = new ArrayBuffer(4);
                    const view = new DataView(buffer);
                    for (let i = 0; i < 4; i++) {
                        view.setUint8(i, bytes[i]);
                    }
                    return view.getFloat32(0, true); // little-endian
                } catch (e) {
                    console.error("Float parse error:", e);
                    return "N/A";
                }
            };
            */
        

            updateText("mvbx_beamset", data.packet.Mvbx_BeamSet);
            updateText("mvbx_pci", data.packet.MVBX_pci);
            updateText("mvbx_ssb", data.packet.MVBX_ssb);
            updateText("mvbx_rsrp", data.packet.MVBX_rsrp);
            updateText("mvbx_snr", data.packet.MVBX_snr);

            // SISO RF
            updateText("dl_input_siso", data.packet.SISO_RF_DET_DL0_OUT + " [dBm]");
            updateText("dl_att_siso", data.packet.DU_DlManualAtten_SISO + " [dB]");
            updateText("dl_alc_level_siso", data.packet.ALC_DL0_SISO_Level + " [dBm]");
            updateText("ul_input_siso", data.packet.SISO_RF_DET_UL0_OUT + " [dBm]");
            updateText("ul_att_siso", data.packet.DU_UlManualAtten_SISO + " [dB]");
            updateText("ul_iso_level_siso", data.packet.ALC_UL0_SISO_Level + " [dBm]");
            updateText("mvbx_tx_gain_set_siso", data.packet.Mvbx_TxGainSetSiso + " [dB]");
            updateText("mvbx_rx_gain_set_siso", data.packet.Mvbx_RxGainSetSiso + " [dB]");
            updateText("ul_iso_att_siso", data.packet.DU_UlIsoAtten_SISO + " [dB]");

            // MIMO RF
            updateText("dl_input_mimo", data.packet.MIMO_RF_DET_DL1_OUT + " [dBm]");
            updateText("dl_att_mimo", data.packet.DU_DlManualAtten_MIMO + " [dB]");
            updateText("dl_alc_level_mimo", data.packet.ALC_DL1_MIMO_Level + " [dBm]");
            updateText("ul_input_mimo", data.packet.MIMO_RF_DET_UL1_OUT + " [dBm]");
            updateText("ul_att_mimo", data.packet.DU_UlManualAtten_MIMO + " [dB]");
            updateText("ul_iso_level_mimo", data.packet.ALC_UL1_MIMO_Level + " [dBm]");
            updateText("mvbx_tx_gain_set_miso", data.packet.Mvbx_TxGainSetMiso + " [dB]");
            updateText("mvbx_rx_gain_set_miso", data.packet.Mvbx_RxGainSetMiso + " [dB]");
            updateText("ul_iso_att_mimo", data.packet.DU_UlIsoAtten_MIMO + " [dB]");

            // RF Configuration Fields Update
            console.log("RF Configuration Data:", data.packet);
            
            // SISO RF Fields
            console.log("DU_DlSubAtten_SISO:", data.packet.DU_DlSubAtten_SISO);
            updateValue("DlSubAtten_SISO", data.packet.DU_DlSubAtten_SISO);
            updateValue("UlSubAtten_SISO", data.packet.DU_UlSubAtten_SISO);
            updateValue("DL_InputOffset_SISO", data.packet.DL_OutputOffset_SISO);
            updateValue("UL_OutputOffset_SISO", data.packet.UL_InputOffset_SISO);
            updateValue("Dl_Att_Test_Siso", data.packet.Dl_Siso_Att_Test);
            updateValue("Ul_Att_Test_Siso", data.packet.Ul_Siso_Att_Test);
            updateValue("Ant_Gain_Siso", data.packet.Gs_Gain_Siso);
            updateValue("Ant_Output_SISO", data.packet.DsOutputPower_SISO);
            updateValue("Ant_Out_Offset_Siso", data.packet.ApiGsOutputPowerOffsetSiso);
            updateValue("Ant_Offset_DL_Siso", data.packet.GS_AttenOffset_DL_Siso);
            updateValue("Ant_Offset_UL_Siso", data.packet.GS_AttenOffset_UL_Siso);

            // MIMO RF Fields
            updateValue("DlSubAtten_MIMO", data.packet.DU_DlSubAtten_MIMO);
            updateValue("UlSubAtten_MIMO", data.packet.DU_UlSubAtten_MIMO);
            updateValue("DL_InputOffset_MIMO", data.packet.DL_OutputOffset_MIMO);
            updateValue("UL_OutputOffset_MIMO", data.packet.UL_InputOffset_MIMO);
            updateValue("Dl_Att_Test_Mimo", data.packet.Dl_Mimo_Att_Test);
            updateValue("U_Att_Testl_Mimo", data.packet.Ul_Mimo_Att_Test);
            updateValue("Ant_Gain_Mimo", data.packet.Gs_Gain_Mimo);
            updateValue("Ant_Output_MIMO", data.packet.DsOutputPower_MIMO);
            updateValue("Ant_Out_Offset_Mimo", data.packet.ApiGsOutputPowerOffsetMimo);
            updateValue("Ant_Offset_DL_Mimo", data.packet.GS_AttenOffset_DL_Mimo);
            updateValue("Ant_Offset_UL_Mimo", data.packet.GS_AttenOffset_UL_Mimo);

            // Optic Configuration Fields Update
            // SISO Optic Fields
            updateValue("LD1_DET_DL0_SISO_Offset", data.packet.LD1_DET_DL0_SISO_Offset);
            updateValue("PD1_DET_UL0_SISO_Offset", data.packet.PD1_DET_UL0_SISO_Offset);
            updateValue("RsrpOffset", data.packet.RsrpOffset);
            updateValue("LowRsrpLevel", data.packet.LowRsrpLevel);
            updateValue("LowRsrpStillTime", data.packet.LowRsrpStillTime);

            // MIMO Optic Fields
            updateValue("LD2_DET_DL1_MIMO_Offset", data.packet.LD2_DET_DL1_MIMO_Offset);
            updateValue("PD2_DET_UL1_MIMO_Offset", data.packet.PD2_DET_UL1_MIMO_Offset);

            

            //siso optic
            updateText("ld1_det_dl0_siso", data.packet.LD1_DET_DL0_SISO + " [dBm]");
            updateText("ld2_det_dl1_mimo", data.packet.LD2_DET_DL1_MIMO + " [dBm]");
            updateText("pd1_det_ul0_siso", data.packet.PD1_DET_UL0_SISO + " [dBm]");
            updateText("pd2_det_ul1_mimo", data.packet.PD2_DET_UL1_MIMO + " [dBm]");
            
            //mimo optic
            updateText("ld1_det_dl0_siso_low", data.packet.LD1_DET_DL0_SISO_Low + " [dBm]");
            updateText("ld2_det_dl1_mimo_low", data.packet.LD2_DET_DL1_MIMO_Low + " [dBm]");
            updateText("pd1_det_ul0_siso_low", data.packet.PD1_DET_UL0_SISO_Low + " [dBm]");
            updateText("pd2_det_ul1_mimo_low", data.packet.PD2_DET_UL1_MIMO_Low + " [dBm]");


            if (data.packet.AlarmStatus) {
                // 서버에서 계산된 알람 상태 사용
                const alarmStatus = data.packet.AlarmStatus;
                
                // 각 알람 상태에 따라 UI 업데이트
                Object.keys(alarmStatus).forEach(alarmId => {
                    const isActive = alarmStatus[alarmId] === 1;
                    updateAlarmDot(alarmId, isActive);
                });
                
                // DU 알람 상태 계산 (클라이언트에서 계산)
                const hasAnyAlarm = Object.values(alarmStatus).some(status => status === 1);
                currentDuAlarmStatus = hasAnyAlarm ? 1 : 0;
            }

            updateStatusBadge1("FpgaStatus", data.packet.FPGA_Boot_Status);
            updateStatusBadge2("InitStatus", data.packet.FPGA_Init_Status);
            updateStatusBadge3("ScanStatus", data.packet.Beam_Scan_Status);




            updateValue("Mvbx_RsAgcThreshold", data.packet.Mvbx_RsAgcThreshold);
            updateValue("conserialnum", data.packet.ConSerialNum);
            updateText("conserialnum_header", data.packet.ConSerialNum);

            // Decoded SSB 정보 업데이트
            updateText("decoded_ssb_count", data.packet.decoded_ssb_count);
            updateText("decoded_ssb_no_error_count", data.packet.decoded_ssb_no_error_count);
            updateText("DecodedRate", data.packet.DecodedRate + " [%]");

            const duIsoStatusText = {
                0: "Ready",
                1: "Measuring",
                2: "Fail",
                3: "Success"
            };
            


            
            updateText("du_iso_status", duIsoStatusText[data.packet.DU_ISO_STATUS] ?? "N/A");
        

            // 1. Ant. Array On/Off (GumStick_OnOff)
            updateText("gumstick_onoff", data.packet.GumStick_OnOff === 1 ? "On" : "Off");

            // 2. AGC On/Off (Mvbx_RsAgcThreshold)
            updateText("mvbx_rsagc_threshold", data.packet.Mvbx_RsAgcThreshold === 1 ? "On" : "Off");

            // 3. AGC Level (Mvbx_RsAgcMode)
            let agcLevel = data.packet.Mvbx_RsAgcMode;
            if (agcLevel === -999) {
                updateText("mvbx_rsagc_mode", "- - -");
            } else {
                updateText("mvbx_rsagc_mode", agcLevel + " dBm");
            }

            // 4. AGC Input (AGC_Input_Power)
            updateText("agc_input_power", data.packet.AGC_Input_Power + " dBm");

            updateText("alc_dl0_siso_mode", data.packet.ALC_DL0_SISO_Mode === 1 ? "On" : "Off");
            updateText("alc_dl1_mimo_mode", data.packet.ALC_DL1_MIMO_Mode === 1 ? "On" : "Off");

            if (gNB_VenderElement && data.packet.gNB_Vender !== undefined && !userModified) {
                const val = Number(data.packet.gNB_Vender);
                gNB_VenderElement.value = [0, 1, 2, 3].includes(val) ? val : "N/A";
            }





            // 네비게이션 점 색상 업데이트
            updateNavDotColors();

            // 현재 활성화된 화면의 점은 알람 상태를 유지 (추가 표시 없음)
            const activeScreenId = document.querySelector('.content-area > div.active')?.id;
            // 활성화된 화면의 점에 대한 추가 표시 제거
            
            // SU Enable 상태 처리
            if (data.packet.SuEnableBits) {
                const enableBits = data.packet.SuEnableBits;
                
                // SU1 Enable 상태 (항상 Enable로 설정)
                const su1EnableBadge = document.getElementById('su1-enable-badge');
                if (su1EnableBadge) {
                    su1EnableBadge.textContent = "#1 Enable";
                    su1EnableBadge.className = "badge bg-success";
                }
                
                // SU2 Enable 상태
                const su2EnableBadge = document.getElementById('su2-enable-badge');
                if (su2EnableBadge) {
                    if (enableBits.SU2_ENABLE === 1) {
                        su2EnableBadge.textContent = "#2 Enable";
                        su2EnableBadge.className = "badge bg-success";
                    } else {
                        su2EnableBadge.textContent = "#2 Disable";
                        su2EnableBadge.className = "badge bg-secondary";
                    }
                }
                
                // SU3 Enable 상태
                const su3EnableBadge = document.getElementById('su3-enable-badge');
                if (su3EnableBadge) {
                    if (enableBits.SU3_ENABLE === 1) {
                        su3EnableBadge.textContent = "#3 Enable";
                        su3EnableBadge.className = "badge bg-success";
                    } else {
                        su3EnableBadge.textContent = "#3 Disable";
                        su3EnableBadge.className = "badge bg-secondary";
                    }
                }
                
                // SU4 Enable 상태
                const su4EnableBadge = document.getElementById('su4-enable-badge');
                if (su4EnableBadge) {
                    if (enableBits.SU4_ENABLE === 1) {
                        su4EnableBadge.textContent = "#4 Enable";
                        su4EnableBadge.className = "badge bg-success";
                    } else {
                        su4EnableBadge.textContent = "#4 Disable";
                        su4EnableBadge.className = "badge bg-secondary";
                    }
                }
                
                // SU Link 컨테이너 표시/숨김 처리
                const su1LinkContainer = document.getElementById('su1-link-container');
                const su2LinkContainer = document.getElementById('su2-link-container');
                const su3LinkContainer = document.getElementById('su3-link-container');
                const su4LinkContainer = document.getElementById('su4-link-container');
                
                // SU1은 항상 표시 (Enable)
                if (su1LinkContainer) {
                    su1LinkContainer.style.display = 'block';
                }
                
                // SU2 Enable 상태에 따라 표시/숨김
                if (su2LinkContainer) {
                    su2LinkContainer.style.display = enableBits.SU2_ENABLE === 1 ? 'block' : 'none';
                }
                
                // SU3 Enable 상태에 따라 표시/숨김
                if (su3LinkContainer) {
                    su3LinkContainer.style.display = enableBits.SU3_ENABLE === 1 ? 'block' : 'none';
                }
                
                // SU4 Enable 상태에 따라 표시/숨김
                if (su4LinkContainer) {
                    su4LinkContainer.style.display = enableBits.SU4_ENABLE === 1 ? 'block' : 'none';
                }
                
                // SU Navigation 항목 표시/숨김 처리
                const su1NavItem = document.getElementById('nav_su1');
                const su2NavItem = document.getElementById('nav_su2');
                const su3NavItem = document.getElementById('nav_su3');
                const su4NavItem = document.getElementById('nav_su4');
                
                // SU1은 항상 표시 (Enable)
                if (su1NavItem) {
                    su1NavItem.style.display = 'block';
                }
                
                // SU2 Enable 상태에 따라 표시/숨김
                if (su2NavItem) {
                    su2NavItem.style.display = enableBits.SU2_ENABLE === 1 ? 'block' : 'none';
                }
                
                // SU3 Enable 상태에 따라 표시/숨김
                if (su3NavItem) {
                    su3NavItem.style.display = enableBits.SU3_ENABLE === 1 ? 'block' : 'none';
                }
                
                // SU4 Enable 상태에 따라 표시/숨김
                if (su4NavItem) {
                    su4NavItem.style.display = enableBits.SU4_ENABLE === 1 ? 'block' : 'none';
                }
            }

            
        });

        // Bootstrap Modal을 사용하여 정보 메시지 표시 (alert() 대체)
        function showInfoModal(message) {
            const modalHtml = `
                <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="infoModalLabel">정보</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                ${message}
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // 모달이 이미 존재하면 제거 (여러 번 클릭 시 중복 생성 방지)
            const existingModal = document.getElementById('infoModal');
            if (existingModal) existingModal.remove();

            document.body.insertAdjacentHTML('beforeend', modalHtml);
            const infoModal = new bootstrap.Modal(document.getElementById('infoModal'));
            infoModal.show();
        }

        // Reset 확인 모달에서 Ok/Cancel 버튼을 처리하는 함수
        function handleResetConfirmation(confirmed) {
            if (confirmed) {
                // 'Ok' 버튼을 눌렀을 때 DU Reset 동작을 수행 (예: 소켓 통신을 통해 서버에 reset 명령 전송)
                console.log('DU Reset이 확인되었습니다. Reset 명령을 보냅니다.');

                // ConMuFlag[0] 바이트를 1로 수정
                if (sendPacketData.ConMuFlag && sendPacketData.ConMuFlag.length > 0) {
                    sendPacketData.ConMuFlag[0] = 0x01; // 10진수 1 또는 16진수 0x01
                    console.log('sendPacketData.ConMuFlag[0] set to 1:', sendPacketData.ConMuFlag[0]);
                } else {
                    console.error('sendPacketData.ConMuFlag is not defined or is empty.');
                }

                // Socket.IO를 통해 전역 변수 sendPacketData 전송
                if (socket) {
                    socket.emit('du_Ctrl_packet', sendPacketData);
                    console.log('DU Reset packet sent:');
                } else {
                    console.error('Socket.IO is not connected. Cannot send DU Reset packet.');
                }

            } else {
                console.log('DU Reset이 취소되었습니다.');
            }
        }



    </script>


</body>
</html>